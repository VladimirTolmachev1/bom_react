{"ast":null,"code":"import _objectSpread from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _dec,\n    _dec2,\n    _class,\n    _class2,\n    _jsxFileName = \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantInfo/RestaurantInfo.js\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { autobind } from 'core-decorators';\nimport { withStyles } from '@material-ui/core';\nimport styles from './styles';\nimport { authRestaurantIdSelector } from './modules';\nimport { SetRestaurantHoursModal } from '../SetRestaurantHoursModal';\nimport { toggleSetRestaurantHoursModal } from '../SetRestaurantHoursModal/modules';\nimport { RestaurantInfoHeader, PaymentInfoForm, RestaurantInfoForm, BillingInfoForm } from './components';\nimport { getRestaurantById, updateRestaurant, managedRestaurantSelector, isRestaurantsLoadingSelector } from '../../modules/restaurants';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    restaurantId: authRestaurantIdSelector(state),\n    restaurant: managedRestaurantSelector(state),\n    isRestaurantLoading: isRestaurantsLoadingSelector(state)\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({\n      updateRestaurant: updateRestaurant,\n      getRestaurantById: getRestaurantById,\n      toggleSetRestaurantHoursModal: toggleSetRestaurantHoursModal\n    }, dispatch)\n  };\n};\n\nvar RestaurantInfo = (_dec = withStyles(styles), _dec2 = connect(mapStateToProps, mapDispatchToProps), _dec(_class = _dec2(_class = (_class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RestaurantInfo, _Component);\n\n  function RestaurantInfo() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RestaurantInfo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RestaurantInfo)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentTab: 0\n    };\n    _this.tabRenderByCurrentTab = {\n      0: _this.renderMainInfoForm,\n      1: _this.renderBillingInfoForm,\n      2: _this.renderPaymentInfoForm\n    };\n    return _this;\n  }\n\n  _createClass(RestaurantInfo, [{\n    key: \"handleUpdateRestaurant\",\n    value: function handleUpdateRestaurant(fields) {\n      var _this$props = this.props,\n          actions = _this$props.actions,\n          restaurantId = _this$props.restaurantId;\n      actions.updateRestaurant({\n        body: _objectSpread({}, fields, {\n          id: restaurantId\n        })\n      });\n    }\n  }, {\n    key: \"openRestaurantsHorsModal\",\n    value: function openRestaurantsHorsModal() {\n      var _this$props2 = this.props,\n          actions = _this$props2.actions,\n          restaurantId = _this$props2.restaurantId;\n      actions.toggleSetRestaurantHoursModal({\n        id: restaurantId,\n        open: true\n      });\n    }\n  }, {\n    key: \"renderMainInfoForm\",\n    value: function renderMainInfoForm() {\n      return React.createElement(RestaurantInfoForm, {\n        openRestaurantsHorsModal: this.openRestaurantsHorsModal,\n        onSubmit: this.handleUpdateRestaurant,\n        isLoading: this.props.isRestaurantLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"renderBillingInfoForm\",\n    value: function renderBillingInfoForm() {\n      return React.createElement(BillingInfoForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"renderPaymentInfoForm\",\n    value: function renderPaymentInfoForm() {\n      return React.createElement(PaymentInfoForm, {\n        isConnectedToStripe: this.props.restaurant.connected_stripe,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props3 = this.props,\n          actions = _this$props3.actions,\n          restaurantId = _this$props3.restaurantId;\n      actions.getRestaurantById({\n        id: restaurantId\n      });\n    }\n  }, {\n    key: \"handleTabChange\",\n    value: function handleTabChange(e, value) {\n      this.setState({\n        currentTab: value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var currentTab = this.state.currentTab;\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: \"app-static-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(RestaurantInfoHeader, {\n        currentTab: currentTab,\n        handleTabChange: this.handleTabChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.formWrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.tabRenderByCurrentTab[currentTab]()), React.createElement(SetRestaurantHoursModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return RestaurantInfo;\n}(Component), (_applyDecoratedDescriptor(_class2.prototype, \"handleUpdateRestaurant\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"handleUpdateRestaurant\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"openRestaurantsHorsModal\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"openRestaurantsHorsModal\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"renderMainInfoForm\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"renderMainInfoForm\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"renderBillingInfoForm\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"renderBillingInfoForm\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"renderPaymentInfoForm\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"renderPaymentInfoForm\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"handleTabChange\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"handleTabChange\"), _class2.prototype)), _class2)) || _class) || _class);\nvar _default = RestaurantInfo;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantInfo/RestaurantInfo.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantInfo/RestaurantInfo.js\");\n  reactHotLoader.register(RestaurantInfo, \"RestaurantInfo\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantInfo/RestaurantInfo.js\");\n  reactHotLoader.register(_default, \"default\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantInfo/RestaurantInfo.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantInfo/RestaurantInfo.js"],"names":["React","Component","connect","bindActionCreators","autobind","withStyles","styles","authRestaurantIdSelector","SetRestaurantHoursModal","toggleSetRestaurantHoursModal","RestaurantInfoHeader","PaymentInfoForm","RestaurantInfoForm","BillingInfoForm","getRestaurantById","updateRestaurant","managedRestaurantSelector","isRestaurantsLoadingSelector","mapStateToProps","state","restaurantId","restaurant","isRestaurantLoading","mapDispatchToProps","dispatch","actions","RestaurantInfo","currentTab","tabRenderByCurrentTab","renderMainInfoForm","renderBillingInfoForm","renderPaymentInfoForm","fields","props","body","id","open","openRestaurantsHorsModal","handleUpdateRestaurant","connected_stripe","e","value","setState","classes","handleTabChange","formWrapper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { autobind } from 'core-decorators';\nimport { withStyles } from '@material-ui/core';\n\nimport styles from './styles';\nimport { authRestaurantIdSelector } from './modules';\nimport { SetRestaurantHoursModal } from '../SetRestaurantHoursModal';\nimport { toggleSetRestaurantHoursModal } from '../SetRestaurantHoursModal/modules';\n\nimport {\n  RestaurantInfoHeader,\n  PaymentInfoForm,\n  RestaurantInfoForm,\n  BillingInfoForm,\n} from './components';\n\nimport {\n  getRestaurantById,\n  updateRestaurant,\n  managedRestaurantSelector,\n  isRestaurantsLoadingSelector,\n} from '../../modules/restaurants';\n\nconst mapStateToProps = state => ({\n  restaurantId: authRestaurantIdSelector(state),\n  restaurant: managedRestaurantSelector(state),\n  isRestaurantLoading: isRestaurantsLoadingSelector(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(\n    {\n      updateRestaurant,\n      getRestaurantById,\n      toggleSetRestaurantHoursModal,\n    },\n    dispatch,\n  ),\n});\n\n@withStyles(styles)\n@connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)\nclass RestaurantInfo extends Component {\n  state = {\n    currentTab: 0,\n  };\n\n  tabRenderByCurrentTab = {\n    0: this.renderMainInfoForm,\n    1: this.renderBillingInfoForm,\n    2: this.renderPaymentInfoForm,\n  };\n\n  @autobind\n  handleUpdateRestaurant(fields) {\n    const { actions, restaurantId } = this.props;\n    actions.updateRestaurant({ body: { ...fields, id: restaurantId } });\n  }\n\n  @autobind\n  openRestaurantsHorsModal() {\n    const { actions, restaurantId } = this.props;\n    actions.toggleSetRestaurantHoursModal({ id: restaurantId, open: true });\n  }\n\n  @autobind\n  renderMainInfoForm() {\n    return (\n      <RestaurantInfoForm\n        openRestaurantsHorsModal={this.openRestaurantsHorsModal}\n        onSubmit={this.handleUpdateRestaurant}\n        isLoading={this.props.isRestaurantLoading}\n      />\n    );\n  }\n\n  @autobind\n  // eslint-disable-next-line class-methods-use-this\n  renderBillingInfoForm() {\n    return <BillingInfoForm />;\n  }\n\n  @autobind\n  renderPaymentInfoForm() {\n    return (\n      <PaymentInfoForm\n        isConnectedToStripe={this.props.restaurant.connected_stripe}\n      />\n    );\n  }\n\n  componentDidMount() {\n    const { actions, restaurantId } = this.props;\n    actions.getRestaurantById({ id: restaurantId });\n  }\n\n  @autobind\n  handleTabChange(e, value) {\n    this.setState({ currentTab: value });\n  }\n\n  render() {\n    const { currentTab } = this.state;\n    const { classes } = this.props;\n    return (\n      <div className=\"app-static-container\">\n        <RestaurantInfoHeader\n          currentTab={currentTab}\n          handleTabChange={this.handleTabChange}\n        />\n\n        <div className={classes.formWrapper}>\n          {this.tabRenderByCurrentTab[currentTab]()}\n        </div>\n\n        <SetRestaurantHoursModal />\n      </div>\n    );\n  }\n}\n\nexport default RestaurantInfo;\n"]},"metadata":{},"sourceType":"module"}