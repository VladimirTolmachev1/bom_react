{"ast":null,"code":"import _objectWithoutProperties from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { GET_DISH_LIST_REQUEST, GET_DISH_LIST_SUCCESS, GET_DISH_LIST_ERROR, DELETE_DISH_REQUEST, DELETE_DISH_SUCCESS, DELETE_DISH_ERROR, CREATE_DISH_SUCCESS, UPDATE_DISH_SUCCESS, PATCH_DISH_EXTRAS_REQUEST, PATCH_DISH_EXTRAS_SUCCESS, PATCH_DISH_EXTRAS_ERROR, PATCH_DISH_SIZES_REQUEST, PATCH_DISH_SIZES_SUCCESS, PATCH_DISH_SIZES_ERROR, SET_DISH_FILTERS, SET_DISH_PAGE, CLEANUP_DISH, CLEAN_DISH_LIST, CHANGE_DICHES_ORDERING, DISHES__GET_BY_ID_REQUEST, DISHES__GET_BY_ID_SUCCESS, DISHES__GET_BY_ID_ERROR } from './dishes.types';\n\nvar getInitialState = function getInitialState() {\n  return {\n    loading: false,\n    isSidngleDishLoading: false,\n    error: null,\n    count: 0,\n    byId: {},\n    allIds: [],\n    managed: null,\n    filters: {\n      category_id: '',\n      page: 1,\n      limit: 10\n    }\n  };\n};\n\nvar setOrderToDishesByIds = function setOrderToDishesByIds(byIds, idsWithOrderArr) {\n  var modifiedByIds = _objectSpread({}, byIds);\n\n  idsWithOrderArr.forEach(function (_ref) {\n    var id = _ref.id,\n        order = _ref.order;\n\n    if (modifiedByIds[id]) {\n      modifiedByIds[id].order = +order;\n    }\n  });\n  return modifiedByIds;\n};\n\nexport function dishesReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getInitialState();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case PATCH_DISH_EXTRAS_REQUEST:\n    case PATCH_DISH_SIZES_REQUEST:\n    case DISHES__GET_BY_ID_REQUEST:\n      {\n        return _objectSpread({}, state, {\n          isSidngleDishLoading: true\n        });\n      }\n\n    case PATCH_DISH_EXTRAS_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          isSidngleDishLoading: false,\n          byId: _objectSpread({}, state.byId, _defineProperty({}, action.payload.item_id, _objectSpread({}, state.byId[action.payload.item_id], {\n            extras: action.payload.extras || [],\n            extra_lists: action.payload.extra_lists || []\n          })))\n        });\n      }\n\n    case PATCH_DISH_SIZES_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          isSidngleDishLoading: false,\n          byId: _objectSpread({}, state.byId, _defineProperty({}, action.payload.item_id, _objectSpread({}, state.byId[action.payload.item_id], {\n            sizes: action.payload.sizes\n          })))\n        });\n      }\n\n    case DISHES__GET_BY_ID_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          mamaged: action.payload.id,\n          isSidngleDishLoading: false,\n          byId: _objectSpread({}, state.byId, _defineProperty({}, action.payload.id, action.payload))\n        });\n      }\n\n    case PATCH_DISH_EXTRAS_ERROR:\n    case PATCH_DISH_SIZES_ERROR:\n    case DISHES__GET_BY_ID_ERROR:\n      {\n        return _objectSpread({}, state, {\n          isSidngleDishLoading: false\n        });\n      }\n\n    case GET_DISH_LIST_REQUEST:\n    case DELETE_DISH_REQUEST:\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case GET_DISH_LIST_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          count: Number(action.response.count),\n          byId: _objectSpread({}, state.byId, action.response.byId || {}),\n          allIds: _toConsumableArray(state.allIds).concat(_toConsumableArray(action.response.allIds || [])),\n          loading: false\n        });\n      }\n\n    case CREATE_DISH_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          count: state.count + 1,\n          byId: _objectSpread({}, state.byId, _defineProperty({}, action.payload.id, action.payload)),\n          allIds: _toConsumableArray(state.allIds).concat([action.payload.id]),\n          loading: false\n        });\n      }\n\n    case DELETE_DISH_SUCCESS:\n      {\n        var id = action.body.id;\n\n        var _state$byId = state.byId,\n            deleted = _state$byId[id],\n            restById = _objectWithoutProperties(_state$byId, [id]);\n\n        return _objectSpread({}, state, {\n          count: state.count - 1,\n          byId: restById,\n          allIds: state.allIds.filter(function (curId) {\n            return +curId !== +id;\n          }),\n          loading: false\n        });\n      }\n\n    case CHANGE_DICHES_ORDERING:\n      {\n        var idsWithOrder = action.payload.idsWithOrder;\n        return _objectSpread({}, state, {\n          allIds: idsWithOrder.map(function (_ref2) {\n            var id = _ref2.id;\n            return id;\n          }),\n          byId: setOrderToDishesByIds(state.byId, idsWithOrder)\n        });\n      }\n\n    case UPDATE_DISH_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          byId: _objectSpread({}, state.byId, _defineProperty({}, action.payload.id, action.payload))\n        });\n      }\n\n    case SET_DISH_FILTERS:\n      {\n        return _objectSpread({}, state, {\n          // data: [], maybe need to clear dishes ?\n          filters: _objectSpread({\n            page: 1\n          }, state.filters, action.filters)\n        });\n      }\n\n    case CLEANUP_DISH:\n      {\n        return getInitialState();\n      }\n\n    case CLEAN_DISH_LIST:\n      {\n        return _objectSpread({}, state, {\n          filters: {\n            category_id: '',\n            page: 1,\n            limit: 10\n          },\n          byId: {},\n          allIds: []\n        });\n      }\n\n    case SET_DISH_PAGE:\n      {\n        return _objectSpread({}, state, {\n          filters: _objectSpread({}, state.filters, {\n            page: action.page\n          })\n        });\n      }\n\n    case GET_DISH_LIST_ERROR:\n      return _objectSpread({}, state, {\n        error: action.error,\n        loading: false\n      });\n\n    case DELETE_DISH_ERROR:\n      {\n        return _objectSpread({}, state, {\n          loading: false\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(getInitialState, \"getInitialState\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/dishes/dishes.reducer.js\");\n  reactHotLoader.register(setOrderToDishesByIds, \"setOrderToDishesByIds\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/dishes/dishes.reducer.js\");\n  reactHotLoader.register(dishesReducer, \"dishesReducer\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/dishes/dishes.reducer.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/dishes/dishes.reducer.js"],"names":["GET_DISH_LIST_REQUEST","GET_DISH_LIST_SUCCESS","GET_DISH_LIST_ERROR","DELETE_DISH_REQUEST","DELETE_DISH_SUCCESS","DELETE_DISH_ERROR","CREATE_DISH_SUCCESS","UPDATE_DISH_SUCCESS","PATCH_DISH_EXTRAS_REQUEST","PATCH_DISH_EXTRAS_SUCCESS","PATCH_DISH_EXTRAS_ERROR","PATCH_DISH_SIZES_REQUEST","PATCH_DISH_SIZES_SUCCESS","PATCH_DISH_SIZES_ERROR","SET_DISH_FILTERS","SET_DISH_PAGE","CLEANUP_DISH","CLEAN_DISH_LIST","CHANGE_DICHES_ORDERING","DISHES__GET_BY_ID_REQUEST","DISHES__GET_BY_ID_SUCCESS","DISHES__GET_BY_ID_ERROR","getInitialState","loading","isSidngleDishLoading","error","count","byId","allIds","managed","filters","category_id","page","limit","setOrderToDishesByIds","byIds","idsWithOrderArr","modifiedByIds","forEach","id","order","dishesReducer","state","action","type","payload","item_id","extras","extra_lists","sizes","mamaged","Number","response","body","deleted","restById","filter","curId","idsWithOrder","map"],"mappings":"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","sourcesContent":["import {\n  GET_DISH_LIST_REQUEST,\n  GET_DISH_LIST_SUCCESS,\n  GET_DISH_LIST_ERROR,\n  DELETE_DISH_REQUEST,\n  DELETE_DISH_SUCCESS,\n  DELETE_DISH_ERROR,\n  CREATE_DISH_SUCCESS,\n  UPDATE_DISH_SUCCESS,\n  PATCH_DISH_EXTRAS_REQUEST,\n  PATCH_DISH_EXTRAS_SUCCESS,\n  PATCH_DISH_EXTRAS_ERROR,\n  PATCH_DISH_SIZES_REQUEST,\n  PATCH_DISH_SIZES_SUCCESS,\n  PATCH_DISH_SIZES_ERROR,\n  SET_DISH_FILTERS,\n  SET_DISH_PAGE,\n  CLEANUP_DISH,\n  CLEAN_DISH_LIST,\n  CHANGE_DICHES_ORDERING,\n  DISHES__GET_BY_ID_REQUEST,\n  DISHES__GET_BY_ID_SUCCESS,\n  DISHES__GET_BY_ID_ERROR,\n} from './dishes.types';\n\nconst getInitialState = () => ({\n  loading: false,\n\n  isSidngleDishLoading: false,\n  error: null,\n\n  count: 0,\n\n  byId: {},\n  allIds: [],\n  managed: null,\n\n  filters: {\n    category_id: '',\n    page: 1,\n    limit: 10,\n  },\n});\n\nconst setOrderToDishesByIds = (byIds, idsWithOrderArr) => {\n  const modifiedByIds = { ...byIds };\n\n  idsWithOrderArr.forEach(({ id, order }) => {\n    if (modifiedByIds[id]) {\n      modifiedByIds[id].order = +order;\n    }\n  });\n\n  return modifiedByIds;\n};\n\nexport function dishesReducer(state = getInitialState(), action) {\n  switch (action.type) {\n    case PATCH_DISH_EXTRAS_REQUEST:\n    case PATCH_DISH_SIZES_REQUEST:\n    case DISHES__GET_BY_ID_REQUEST: {\n      return {\n        ...state,\n        isSidngleDishLoading: true,\n      };\n    }\n\n    case PATCH_DISH_EXTRAS_SUCCESS: {\n      return {\n        ...state,\n        isSidngleDishLoading: false,\n        byId: {\n          ...state.byId,\n          [action.payload.item_id]: {\n            ...state.byId[action.payload.item_id],\n            extras: action.payload.extras || [],\n            extra_lists: action.payload.extra_lists || [],\n          },\n        },\n      };\n    }\n\n    case PATCH_DISH_SIZES_SUCCESS: {\n      return {\n        ...state,\n        isSidngleDishLoading: false,\n        byId: {\n          ...state.byId,\n          [action.payload.item_id]: {\n            ...state.byId[action.payload.item_id],\n            sizes: action.payload.sizes,\n          },\n        },\n      };\n    }\n\n    case DISHES__GET_BY_ID_SUCCESS: {\n      return {\n        ...state,\n        mamaged: action.payload.id,\n        isSidngleDishLoading: false,\n        byId: {\n          ...state.byId,\n          [action.payload.id]: action.payload,\n        },\n      };\n    }\n\n    case PATCH_DISH_EXTRAS_ERROR:\n    case PATCH_DISH_SIZES_ERROR:\n    case DISHES__GET_BY_ID_ERROR: {\n      return {\n        ...state,\n        isSidngleDishLoading: false,\n      };\n    }\n\n    case GET_DISH_LIST_REQUEST:\n    case DELETE_DISH_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case GET_DISH_LIST_SUCCESS: {\n      return {\n        ...state,\n        count: Number(action.response.count),\n        byId: {\n          ...state.byId,\n          ...(action.response.byId || {}),\n        },\n        allIds: [...state.allIds, ...(action.response.allIds || [])],\n        loading: false,\n      };\n    }\n\n    case CREATE_DISH_SUCCESS: {\n      return {\n        ...state,\n        count: state.count + 1,\n        byId: {\n          ...state.byId,\n          [action.payload.id]: action.payload,\n        },\n        allIds: [...state.allIds, action.payload.id],\n        loading: false,\n      };\n    }\n\n    case DELETE_DISH_SUCCESS: {\n      const { id } = action.body;\n      const { [id]: deleted, ...restById } = state.byId;\n\n      return {\n        ...state,\n        count: state.count - 1,\n        byId: restById,\n        allIds: state.allIds.filter(curId => +curId !== +id),\n        loading: false,\n      };\n    }\n\n    case CHANGE_DICHES_ORDERING: {\n      const { idsWithOrder } = action.payload;\n      return {\n        ...state,\n        allIds: idsWithOrder.map(({ id }) => id),\n        byId: setOrderToDishesByIds(state.byId, idsWithOrder),\n      };\n    }\n\n    case UPDATE_DISH_SUCCESS: {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [action.payload.id]: action.payload,\n        },\n      };\n    }\n\n    case SET_DISH_FILTERS: {\n      return {\n        ...state,\n        // data: [], maybe need to clear dishes ?\n        filters: {\n          page: 1,\n          ...state.filters,\n          ...action.filters,\n        },\n      };\n    }\n\n    case CLEANUP_DISH: {\n      return getInitialState();\n    }\n\n    case CLEAN_DISH_LIST: {\n      return {\n        ...state,\n        filters: {\n          category_id: '',\n          page: 1,\n          limit: 10,\n        },\n        byId: {},\n        allIds: [],\n      };\n    }\n\n    case SET_DISH_PAGE: {\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          page: action.page,\n        },\n      };\n    }\n\n    case GET_DISH_LIST_ERROR:\n      return {\n        ...state,\n        error: action.error,\n        loading: false,\n      };\n\n    case DELETE_DISH_ERROR: {\n      return {\n        ...state,\n        loading: false,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}