{"ast":null,"code":"import _regeneratorRuntime from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _dec,\n    _dec2,\n    _class,\n    _class2,\n    _jsxFileName = \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { reduxForm, formValueSelector } from 'redux-form';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport './SetRestaurantHoursModal.scss';\nimport { autobind } from 'core-decorators';\nimport { HelperService } from '../../services';\nimport { setRestaurantHoursModalLoadingSelector, toggleSetRestaurantHoursModal, clearModalData, setRestaurantHoursModalOpenSelector, setRestaurantHoursModalInitialValuesSelector, setRestaurantHoursModalIdSelector, daysOptionsSelector, copyHoursFromPreviousTab, setSameDay } from './modules';\nimport { AppPreloaderSmall, AppCleanHOC } from '../../components';\nimport { updateRestaurant, getRestaurantById, abortPageRequests } from '../../modules/restaurants';\nimport { TabContent } from './components';\nvar formFieldsSelector = formValueSelector('Restaurant');\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: setRestaurantHoursModalLoadingSelector(state),\n    open: setRestaurantHoursModalOpenSelector(state),\n    initialValues: setRestaurantHoursModalInitialValuesSelector(state),\n    id: setRestaurantHoursModalIdSelector(state),\n    hours: formFieldsSelector(state, 'hours'),\n    daysOptions: daysOptionsSelector()\n  };\n};\n\nvar mapDispatchToProps = {\n  toggleSetRestaurantHoursModal: toggleSetRestaurantHoursModal,\n  clearModalData: clearModalData,\n  updateRestaurant: updateRestaurant,\n  getRestaurantById: getRestaurantById,\n  abortPageRequests: abortPageRequests,\n  setSameDay: setSameDay,\n  copyHoursFromPreviousTab: copyHoursFromPreviousTab\n};\nvar SetRestaurantHoursModal = (_dec = connect(mapStateToProps, mapDispatchToProps), _dec2 = reduxForm({\n  form: 'Restaurant',\n  enableReinitialize: true\n}), _dec(_class = _dec2(_class = AppCleanHOC(_class = (_class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SetRestaurantHoursModal, _Component);\n\n  function SetRestaurantHoursModal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SetRestaurantHoursModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SetRestaurantHoursModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      activeTab: 0\n    };\n    return _this;\n  }\n\n  _createClass(SetRestaurantHoursModal, [{\n    key: \"onEntered\",\n    value: function onEntered() {\n      var _this$props = this.props,\n          id = _this$props.id,\n          getRestaurantById = _this$props.getRestaurantById;\n      getRestaurantById({\n        id: id\n      });\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      var _this$props2 = this.props,\n          toggleSetRestaurantHoursModal = _this$props2.toggleSetRestaurantHoursModal,\n          reset = _this$props2.reset,\n          clearModalData = _this$props2.clearModalData;\n      toggleSetRestaurantHoursModal({\n        open: false\n      });\n      reset();\n      clearModalData();\n    }\n  }, {\n    key: \"onSaveClick\",\n    value: function () {\n      var _onSaveClick = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this$props3, hours, updateRestaurant, id;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props3 = this.props, hours = _this$props3.hours, updateRestaurant = _this$props3.updateRestaurant, id = _this$props3.id;\n                _context.prev = 1;\n                _context.next = 4;\n                return updateRestaurant({\n                  body: {\n                    hours: hours,\n                    id: id\n                  }\n                });\n\n              case 4:\n                this.onClose();\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](1);\n                // todo: error notification\n                console.error(_context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      return function onSaveClick() {\n        return _onSaveClick.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"onChangeTab\",\n    value: function onChangeTab(event, activeTab) {\n      this.setState({\n        activeTab: activeTab\n      });\n    }\n  }, {\n    key: \"renderDialogActions\",\n    value: function renderDialogActions() {\n      var _this$props4 = this.props,\n          loading = _this$props4.loading,\n          invalid = _this$props4.invalid;\n      return React.createElement(\"div\", {\n        className: \"set-restaurant-modal__actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.onClose,\n        variant: \"contained\",\n        disabled: loading,\n        className: \"set-restaurant-modal__actions-cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        onClick: this.onSaveClick,\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: loading || invalid,\n        className: \"set-restaurant-modal__actions-save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Save and update all\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          loading = _this$props5.loading,\n          open = _this$props5.open;\n      var activeTab = this.state.activeTab;\n      var tabProps = HelperService.pick(this.props, ['hours', 'setSameDay', 'daysOptions', 'copyHoursFromPreviousTab']);\n      return React.createElement(Dialog, {\n        open: open,\n        onEntered: this.onEntered,\n        onClose: this.onClose,\n        fullWidth: true,\n        maxWidth: \"md\",\n        className: \"restaurant-modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, loading && React.createElement(AppPreloaderSmall, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Working schedule\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        value: activeTab,\n        centered: true,\n        indicatorColor: \"primary\",\n        className: \"set-restaurant-modal-hours__tabs\",\n        onChange: this.onChangeTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        label: \"Working hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Away hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Delivery hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Pickup hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), activeTab === 0 && React.createElement(TabContent, Object.assign({\n        hoursGroup: \"working\"\n      }, tabProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })), activeTab === 1 && React.createElement(TabContent, Object.assign({\n        hoursGroup: \"away\"\n      }, tabProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), activeTab === 2 && React.createElement(TabContent, Object.assign({\n        hoursGroup: \"delivery\"\n      }, tabProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      })), activeTab === 3 && React.createElement(TabContent, Object.assign({\n        hoursGroup: \"pickup\"\n      }, tabProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, this.renderDialogActions()));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return SetRestaurantHoursModal;\n}(Component), (_applyDecoratedDescriptor(_class2.prototype, \"onEntered\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"onEntered\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onClose\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClose\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onSaveClick\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"onSaveClick\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onChangeTab\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"onChangeTab\"), _class2.prototype)), _class2)) || _class) || _class) || _class);\nexport { SetRestaurantHoursModal as default };\nSetRestaurantHoursModal.propTypes = {\n  loading: PropTypes.bool,\n  hours: PropTypes.any,\n  initialValues: PropTypes.object\n};\nSetRestaurantHoursModal.defaultProps = {};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(formFieldsSelector, \"formFieldsSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\");\n  reactHotLoader.register(SetRestaurantHoursModal, \"SetRestaurantHoursModal\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js"],"names":["React","Component","PropTypes","connect","reduxForm","formValueSelector","Dialog","DialogActions","DialogContent","DialogTitle","Divider","Button","Tabs","Tab","autobind","HelperService","setRestaurantHoursModalLoadingSelector","toggleSetRestaurantHoursModal","clearModalData","setRestaurantHoursModalOpenSelector","setRestaurantHoursModalInitialValuesSelector","setRestaurantHoursModalIdSelector","daysOptionsSelector","copyHoursFromPreviousTab","setSameDay","AppPreloaderSmall","AppCleanHOC","updateRestaurant","getRestaurantById","abortPageRequests","TabContent","formFieldsSelector","mapStateToProps","state","loading","open","initialValues","id","hours","daysOptions","mapDispatchToProps","SetRestaurantHoursModal","form","enableReinitialize","activeTab","props","reset","body","onClose","console","error","event","setState","invalid","onSaveClick","tabProps","pick","onEntered","onChangeTab","renderDialogActions","propTypes","bool","any","object","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { reduxForm, formValueSelector } from 'redux-form';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport './SetRestaurantHoursModal.scss';\n\nimport { autobind } from 'core-decorators';\nimport { HelperService } from '../../services';\nimport {\n  setRestaurantHoursModalLoadingSelector,\n  toggleSetRestaurantHoursModal,\n  clearModalData,\n  setRestaurantHoursModalOpenSelector,\n  setRestaurantHoursModalInitialValuesSelector,\n  setRestaurantHoursModalIdSelector,\n  daysOptionsSelector,\n  copyHoursFromPreviousTab,\n  setSameDay,\n} from './modules';\n\nimport { AppPreloaderSmall, AppCleanHOC } from '../../components';\n\nimport {\n  updateRestaurant,\n  getRestaurantById,\n  abortPageRequests,\n} from '../../modules/restaurants';\n\nimport { TabContent } from './components';\n\nconst formFieldsSelector = formValueSelector('Restaurant');\n\nconst mapStateToProps = state => ({\n  loading: setRestaurantHoursModalLoadingSelector(state),\n  open: setRestaurantHoursModalOpenSelector(state),\n  initialValues: setRestaurantHoursModalInitialValuesSelector(state),\n  id: setRestaurantHoursModalIdSelector(state),\n  hours: formFieldsSelector(state, 'hours'),\n  daysOptions: daysOptionsSelector(),\n});\n\nconst mapDispatchToProps = {\n  toggleSetRestaurantHoursModal,\n  clearModalData,\n  updateRestaurant,\n  getRestaurantById,\n  abortPageRequests,\n  setSameDay,\n  copyHoursFromPreviousTab,\n};\n\nexport default\n@connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)\n@reduxForm({\n  form: 'Restaurant',\n  enableReinitialize: true,\n})\n@AppCleanHOC\nclass SetRestaurantHoursModal extends Component {\n  state = {\n    activeTab: 0,\n  };\n\n  @autobind\n  onEntered() {\n    const { id, getRestaurantById } = this.props;\n    getRestaurantById({ id });\n  }\n\n  @autobind\n  onClose() {\n    const { toggleSetRestaurantHoursModal, reset, clearModalData } = this.props;\n    toggleSetRestaurantHoursModal({ open: false });\n    reset();\n    clearModalData();\n  }\n\n  @autobind\n  async onSaveClick() {\n    const { hours, updateRestaurant, id } = this.props;\n\n    try {\n      await updateRestaurant({ body: { hours, id } });\n      this.onClose();\n    } catch (error) {\n      // todo: error notification\n      console.error(error);\n    }\n  }\n\n  @autobind\n  onChangeTab(event, activeTab) {\n    this.setState({ activeTab });\n  }\n\n  renderDialogActions() {\n    const { loading, invalid } = this.props;\n\n    return (\n      <div className=\"set-restaurant-modal__actions\">\n        <Button\n          onClick={this.onClose}\n          variant=\"contained\"\n          disabled={loading}\n          className=\"set-restaurant-modal__actions-cancel\">\n          Cancel\n        </Button>\n        <Button\n          onClick={this.onSaveClick}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={loading || invalid}\n          className=\"set-restaurant-modal__actions-save\">\n          Save and update all\n        </Button>\n      </div>\n    );\n  }\n\n  render() {\n    const { loading, open } = this.props;\n    const { activeTab } = this.state;\n\n    const tabProps = HelperService.pick(this.props, [\n      'hours',\n      'setSameDay',\n      'daysOptions',\n      'copyHoursFromPreviousTab',\n    ]);\n\n    return (\n      <Dialog\n        open={open}\n        onEntered={this.onEntered}\n        onClose={this.onClose}\n        fullWidth\n        maxWidth=\"md\"\n        className=\"restaurant-modal\">\n        {loading && <AppPreloaderSmall />}\n        <DialogTitle>Working schedule</DialogTitle>\n        <DialogContent>\n          <Tabs\n            value={activeTab}\n            centered\n            indicatorColor=\"primary\"\n            className=\"set-restaurant-modal-hours__tabs\"\n            onChange={this.onChangeTab}>\n            <Tab label=\"Working hours\" />\n            <Tab label=\"Away hours\" />\n            <Tab label=\"Delivery hours\" />\n            <Tab label=\"Pickup hours\" />\n          </Tabs>\n\n          {activeTab === 0 && <TabContent hoursGroup=\"working\" {...tabProps} />}\n          {activeTab === 1 && <TabContent hoursGroup=\"away\" {...tabProps} />}\n          {activeTab === 2 && (\n            <TabContent hoursGroup=\"delivery\" {...tabProps} />\n          )}\n          {activeTab === 3 && <TabContent hoursGroup=\"pickup\" {...tabProps} />}\n        </DialogContent>\n        <Divider />\n        <DialogActions>{this.renderDialogActions()}</DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nSetRestaurantHoursModal.propTypes = {\n  loading: PropTypes.bool,\n  hours: PropTypes.any,\n  initialValues: PropTypes.object,\n};\nSetRestaurantHoursModal.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}