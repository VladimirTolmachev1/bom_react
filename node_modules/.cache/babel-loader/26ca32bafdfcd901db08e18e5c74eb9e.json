{"ast":null,"code":"(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { CALL_API } from '.';\n\nvar _default = function _default() {\n  return function (next) {\n    return function (action) {\n      if (action.type !== CALL_API) {\n        return next(action);\n      }\n\n      var request = action.request;\n      var urlParams = request.urlParams;\n\n      if (urlParams) {\n        Object.keys(urlParams).forEach(function (key) {\n          request.endpoint = request.endpoint.replace(\"{\".concat(key, \"}\"), urlParams[key]);\n        });\n      }\n\n      if (!request.contentType) {\n        request.contentType = 'application/json';\n      }\n\n      return next(action);\n    };\n  };\n};\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_default, \"default\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/store/middleware/request-prepare.middleware.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/store/middleware/request-prepare.middleware.js"],"names":["CALL_API","next","action","type","request","urlParams","Object","keys","forEach","key","endpoint","replace","contentType"],"mappings":";;;;;AAAA,SAASA,QAAT,QAAyB,GAAzB;;eAEe;AAAA,SAAM,UAAAC,IAAI;AAAA,WAAI,UAAAC,MAAM,EAAI;AACrC,UAAIA,MAAM,CAACC,IAAP,KAAgBH,QAApB,EAA8B;AAC5B,eAAOC,IAAI,CAACC,MAAD,CAAX;AACD;;AAHoC,UAK7BE,OAL6B,GAKjBF,MALiB,CAK7BE,OAL6B;AAAA,UAM7BC,SAN6B,GAMfD,OANe,CAM7BC,SAN6B;;AAQrC,UAAIA,SAAJ,EAAe;AACbC,QAAAA,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBG,OAAvB,CAA+B,UAAAC,GAAG,EAAI;AACpCL,UAAAA,OAAO,CAACM,QAAR,GAAmBN,OAAO,CAACM,QAAR,CAAiBC,OAAjB,YAA6BF,GAA7B,QAAqCJ,SAAS,CAACI,GAAD,CAA9C,CAAnB;AACD,SAFD;AAGD;;AAED,UAAI,CAACL,OAAO,CAACQ,WAAb,EAA0B;AACxBR,QAAAA,OAAO,CAACQ,WAAR,GAAsB,kBAAtB;AACD;;AAED,aAAOX,IAAI,CAACC,MAAD,CAAX;AACD,KAnBwB;AAAA,GAAV;AAAA,C;;AAAf","sourcesContent":["import { CALL_API } from '.';\n\nexport default () => next => action => {\n  if (action.type !== CALL_API) {\n    return next(action);\n  }\n\n  const { request } = action;\n  const { urlParams } = request;\n\n  if (urlParams) {\n    Object.keys(urlParams).forEach(key => {\n      request.endpoint = request.endpoint.replace(`{${key}}`, urlParams[key]);\n    });\n  }\n\n  if (!request.contentType) {\n    request.contentType = 'application/json';\n  }\n\n  return next(action);\n};\n"]},"metadata":{},"sourceType":"module"}