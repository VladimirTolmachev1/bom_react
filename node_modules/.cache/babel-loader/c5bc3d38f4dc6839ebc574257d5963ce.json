{"ast":null,"code":"import _toConsumableArray from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { extrasFormFieldSelector } from '../../../components/forms/selectors';\n\nfunction removeSizeRestrictionsFromExtras(extras) {\n  extras.forEach(function (extra) {\n    extra.sizes = [];\n  });\n}\n\nfunction removeSizesRestrictionsFormExtrasLists(lists) {\n  lists.forEach(function (list) {\n    removeSizeRestrictionsFromExtras(list.items);\n  });\n}\n\nexport var lastExtrasCopiedFromNameSelector = function lastExtrasCopiedFromNameSelector(state) {\n  return extrasFormFieldSelector(state, 'lastCopiedFrom');\n};\nexport var COPY_EXTRAS_FROM_ANOTHER_ENTITY = 'COPY_EXTRAS_FROM_ANOTHER_ENTITY';\nexport var copyExtrasToForm = function copyExtrasToForm(_ref) {\n  var _ref$extrasToCopy = _ref.extrasToCopy,\n      extrasToCopy = _ref$extrasToCopy === void 0 ? [] : _ref$extrasToCopy,\n      _ref$extrasListsToCop = _ref.extrasListsToCopy,\n      extrasListsToCopy = _ref$extrasListsToCop === void 0 ? [] : _ref$extrasListsToCop,\n      _ref$copiedFrom = _ref.copiedFrom,\n      copiedFrom = _ref$copiedFrom === void 0 ? null : _ref$copiedFrom;\n  return {\n    type: COPY_EXTRAS_FROM_ANOTHER_ENTITY,\n    payload: {\n      extrasToCopy: extrasToCopy,\n      copiedFrom: copiedFrom,\n      extrasListsToCopy: extrasListsToCopy\n    }\n  };\n};\nexport function copyExtrasPlugin(state, _ref2) {\n  var type = _ref2.type,\n      payload = _ref2.payload;\n\n  switch (type) {\n    case COPY_EXTRAS_FROM_ANOTHER_ENTITY:\n      {\n        var extrasToCopy = payload.extrasToCopy,\n            extrasListsToCopy = payload.extrasListsToCopy,\n            copiedFrom = payload.copiedFrom;\n        removeSizeRestrictionsFromExtras(extrasToCopy);\n        removeSizesRestrictionsFormExtrasLists(extrasListsToCopy);\n        return _objectSpread({}, state, {\n          values: _objectSpread({}, state.values, {\n            extras: _toConsumableArray(state.values.extras || []).concat(_toConsumableArray(extrasToCopy)),\n            extra_lists: _toConsumableArray(state.values.extra_lists || []).concat(_toConsumableArray(extrasListsToCopy)),\n            lastCopiedFrom: copiedFrom\n          })\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(removeSizeRestrictionsFromExtras, \"removeSizeRestrictionsFromExtras\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/forms/plugins/extras-form.plugin.js\");\n  reactHotLoader.register(removeSizesRestrictionsFormExtrasLists, \"removeSizesRestrictionsFormExtrasLists\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/forms/plugins/extras-form.plugin.js\");\n  reactHotLoader.register(lastExtrasCopiedFromNameSelector, \"lastExtrasCopiedFromNameSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/forms/plugins/extras-form.plugin.js\");\n  reactHotLoader.register(COPY_EXTRAS_FROM_ANOTHER_ENTITY, \"COPY_EXTRAS_FROM_ANOTHER_ENTITY\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/forms/plugins/extras-form.plugin.js\");\n  reactHotLoader.register(copyExtrasToForm, \"copyExtrasToForm\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/forms/plugins/extras-form.plugin.js\");\n  reactHotLoader.register(copyExtrasPlugin, \"copyExtrasPlugin\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/forms/plugins/extras-form.plugin.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/forms/plugins/extras-form.plugin.js"],"names":["extrasFormFieldSelector","removeSizeRestrictionsFromExtras","extras","forEach","extra","sizes","removeSizesRestrictionsFormExtrasLists","lists","list","items","lastExtrasCopiedFromNameSelector","state","COPY_EXTRAS_FROM_ANOTHER_ENTITY","copyExtrasToForm","extrasToCopy","extrasListsToCopy","copiedFrom","type","payload","copyExtrasPlugin","values","extra_lists","lastCopiedFrom"],"mappings":";;;;;;;;AAAA,SAASA,uBAAT,QAAwC,qCAAxC;;AAEA,SAASC,gCAAT,CAA0CC,MAA1C,EAAkD;AAChDA,EAAAA,MAAM,CAACC,OAAP,CAAe,UAAAC,KAAK,EAAI;AACtBA,IAAAA,KAAK,CAACC,KAAN,GAAc,EAAd;AACD,GAFD;AAGD;;AAED,SAASC,sCAAT,CAAgDC,KAAhD,EAAuD;AACrDA,EAAAA,KAAK,CAACJ,OAAN,CAAc,UAAAK,IAAI,EAAI;AACpBP,IAAAA,gCAAgC,CAACO,IAAI,CAACC,KAAN,CAAhC;AACD,GAFD;AAGD;;AAED,OAAO,IAAMC,gCAAgC,GAAG,SAAnCA,gCAAmC,CAAAC,KAAK;AAAA,SACnDX,uBAAuB,CAACW,KAAD,EAAQ,gBAAR,CAD4B;AAAA,CAA9C;AAGP,OAAO,IAAMC,+BAA+B,GAC1C,iCADK;AAGP,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,+BAC9BC,YAD8B;AAAA,MAC9BA,YAD8B,kCACf,EADe;AAAA,mCAE9BC,iBAF8B;AAAA,MAE9BA,iBAF8B,sCAEV,EAFU;AAAA,6BAG9BC,UAH8B;AAAA,MAG9BA,UAH8B,gCAGjB,IAHiB;AAAA,SAIzB;AACLC,IAAAA,IAAI,EAAEL,+BADD;AAELM,IAAAA,OAAO,EAAE;AAAEJ,MAAAA,YAAY,EAAZA,YAAF;AAAgBE,MAAAA,UAAU,EAAVA,UAAhB;AAA4BD,MAAAA,iBAAiB,EAAjBA;AAA5B;AAFJ,GAJyB;AAAA,CAAzB;AASP,OAAO,SAASI,gBAAT,CAA0BR,KAA1B,SAAoD;AAAA,MAAjBM,IAAiB,SAAjBA,IAAiB;AAAA,MAAXC,OAAW,SAAXA,OAAW;;AACzD,UAAQD,IAAR;AACE,SAAKL,+BAAL;AAAsC;AAAA,YAC5BE,YAD4B,GACoBI,OADpB,CAC5BJ,YAD4B;AAAA,YACdC,iBADc,GACoBG,OADpB,CACdH,iBADc;AAAA,YACKC,UADL,GACoBE,OADpB,CACKF,UADL;AAGpCf,QAAAA,gCAAgC,CAACa,YAAD,CAAhC;AACAR,QAAAA,sCAAsC,CAACS,iBAAD,CAAtC;AAEA,iCACKJ,KADL;AAEES,UAAAA,MAAM,oBACDT,KAAK,CAACS,MADL;AAEJlB,YAAAA,MAAM,qBAAOS,KAAK,CAACS,MAAN,CAAalB,MAAb,IAAuB,EAA9B,4BAAsCY,YAAtC,EAFF;AAIJO,YAAAA,WAAW,qBACLV,KAAK,CAACS,MAAN,CAAaC,WAAb,IAA4B,EADvB,4BAENN,iBAFM,EAJP;AASJO,YAAAA,cAAc,EAAEN;AATZ;AAFR;AAcD;;AACD;AACE,aAAOL,KAAP;AAvBJ;AAyBD;;;;;;;;;;0BArDQV,gC;0BAMAK,sC;0BAMII,gC;0BAGAE,+B;0BAGAC,gB;0BASGM,gB","sourcesContent":["import { extrasFormFieldSelector } from '../../../components/forms/selectors';\n\nfunction removeSizeRestrictionsFromExtras(extras) {\n  extras.forEach(extra => {\n    extra.sizes = [];\n  });\n}\n\nfunction removeSizesRestrictionsFormExtrasLists(lists) {\n  lists.forEach(list => {\n    removeSizeRestrictionsFromExtras(list.items);\n  });\n}\n\nexport const lastExtrasCopiedFromNameSelector = state =>\n  extrasFormFieldSelector(state, 'lastCopiedFrom');\n\nexport const COPY_EXTRAS_FROM_ANOTHER_ENTITY =\n  'COPY_EXTRAS_FROM_ANOTHER_ENTITY';\n\nexport const copyExtrasToForm = ({\n  extrasToCopy = [],\n  extrasListsToCopy = [],\n  copiedFrom = null,\n}) => ({\n  type: COPY_EXTRAS_FROM_ANOTHER_ENTITY,\n  payload: { extrasToCopy, copiedFrom, extrasListsToCopy },\n});\n\nexport function copyExtrasPlugin(state, { type, payload }) {\n  switch (type) {\n    case COPY_EXTRAS_FROM_ANOTHER_ENTITY: {\n      const { extrasToCopy, extrasListsToCopy, copiedFrom } = payload;\n\n      removeSizeRestrictionsFromExtras(extrasToCopy);\n      removeSizesRestrictionsFormExtrasLists(extrasListsToCopy);\n\n      return {\n        ...state,\n        values: {\n          ...state.values,\n          extras: [...(state.values.extras || []), ...extrasToCopy],\n\n          extra_lists: [\n            ...(state.values.extra_lists || []),\n            ...extrasListsToCopy,\n          ],\n\n          lastCopiedFrom: copiedFrom,\n        },\n      };\n    }\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}