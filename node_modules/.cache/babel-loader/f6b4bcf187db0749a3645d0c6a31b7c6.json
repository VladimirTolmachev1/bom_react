{"ast":null,"code":"import _toConsumableArray from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { SET_UPDATED_ORDER_IN_STORE_DIRECTLY, GET_ORDERS_REQUEST, GET_ORDERS_SUCCESS, GET_ORDERS_ERROR, UPDATE_ORDER_SUCCESS, CHECKOUT__CREATE_ORDER_REQUEST, CREATE_ORDER_REQUEST, CREATE_ORDER_SUCCESS, CREATE_ORDER_ERROR, GET_ORDERS_TOTAL_INFO_SUCCESS, SET_ORDERS_TOTAL } from './orders.types';\nvar initialState = {\n  byId: {},\n  total: {\n    ordersCompleted: 0,\n    revenue: 0\n  },\n  allIds: [],\n  managed: null,\n  isOrdersListLoading: false,\n  isOrderLoading: false\n};\nexport function ordersReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case CREATE_ORDER_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          isOrderLoading: false,\n          byId: _objectSpread({}, state.byId, _defineProperty({}, payload.id, payload)),\n          allIds: [payload.id].concat(_toConsumableArray(state.allIds))\n        });\n      }\n\n    case GET_ORDERS_SUCCESS:\n      {\n        return _objectSpread({}, state, payload, {\n          isOrdersListLoading: false\n        });\n      }\n\n    case UPDATE_ORDER_SUCCESS:\n      {\n        var id = payload.id;\n        return _objectSpread({}, state, {\n          byId: _objectSpread({}, state.byId, _defineProperty({}, id, _objectSpread({}, payload)))\n        });\n      }\n\n    case SET_ORDERS_TOTAL:\n      {\n        var newRevenue = payload.newRevenue,\n            newOrdersCompleted = payload.newOrdersCompleted;\n        return _objectSpread({}, state, {\n          total: {\n            revenue: newRevenue,\n            ordersCompleted: newOrdersCompleted\n          }\n        });\n      }\n\n    case SET_UPDATED_ORDER_IN_STORE_DIRECTLY:\n      {\n        var _id = payload.id;\n        return _objectSpread({}, state, {\n          byId: _objectSpread({}, state.byId, _defineProperty({}, _id, _objectSpread({}, state.byId[_id], payload)))\n        });\n      }\n\n    case GET_ORDERS_TOTAL_INFO_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          total: {\n            ordersCompleted: payload.total_orders,\n            revenue: payload.total_revenue\n          }\n        });\n      }\n\n    case GET_ORDERS_REQUEST:\n      {\n        return _objectSpread({}, state, {\n          isOrdersListLoading: true\n        });\n      }\n\n    case GET_ORDERS_ERROR:\n      {\n        return _objectSpread({}, state, {\n          isOrdersListLoading: false\n        });\n      }\n\n    case CHECKOUT__CREATE_ORDER_REQUEST:\n    case CREATE_ORDER_REQUEST:\n      {\n        return _objectSpread({}, state, {\n          isOrderLoading: true\n        });\n      }\n\n    case CREATE_ORDER_ERROR:\n      {\n        return _objectSpread({}, state, {\n          isOrderLoading: false\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(initialState, \"initialState\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.reducer.js\");\n  reactHotLoader.register(ordersReducer, \"ordersReducer\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.reducer.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.reducer.js"],"names":["SET_UPDATED_ORDER_IN_STORE_DIRECTLY","GET_ORDERS_REQUEST","GET_ORDERS_SUCCESS","GET_ORDERS_ERROR","UPDATE_ORDER_SUCCESS","CHECKOUT__CREATE_ORDER_REQUEST","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","CREATE_ORDER_ERROR","GET_ORDERS_TOTAL_INFO_SUCCESS","SET_ORDERS_TOTAL","initialState","byId","total","ordersCompleted","revenue","allIds","managed","isOrdersListLoading","isOrderLoading","ordersReducer","state","type","payload","id","newRevenue","newOrdersCompleted","total_orders","total_revenue"],"mappings":";;;;;;;;;AAAA,SACEA,mCADF,EAEEC,kBAFF,EAGEC,kBAHF,EAIEC,gBAJF,EAKEC,oBALF,EAMEC,8BANF,EAOEC,oBAPF,EAQEC,oBARF,EASEC,kBATF,EAUEC,6BAVF,EAWEC,gBAXF,QAYO,gBAZP;AAcA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AAEnBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,eAAe,EAAE,CADZ;AAELC,IAAAA,OAAO,EAAE;AAFJ,GAFY;AAMnBC,EAAAA,MAAM,EAAE,EANW;AAOnBC,EAAAA,OAAO,EAAE,IAPU;AAQnBC,EAAAA,mBAAmB,EAAE,KARF;AASnBC,EAAAA,cAAc,EAAE;AATG,CAArB;AAYA,OAAO,SAASC,aAAT,GAAgE;AAAA,MAAzCC,KAAyC,uEAAjCV,YAAiC;;AAAA;AAAA,MAAjBW,IAAiB,QAAjBA,IAAiB;AAAA,MAAXC,OAAW,QAAXA,OAAW;;AACrE,UAAQD,IAAR;AACE,SAAKf,oBAAL;AAA2B;AACzB,iCACKc,KADL;AAEEF,UAAAA,cAAc,EAAE,KAFlB;AAGEP,UAAAA,IAAI,oBACCS,KAAK,CAACT,IADP,sBAEDW,OAAO,CAACC,EAFP,EAEYD,OAFZ,EAHN;AAOEP,UAAAA,MAAM,GAAGO,OAAO,CAACC,EAAX,4BAAkBH,KAAK,CAACL,MAAxB;AAPR;AASD;;AACD,SAAKd,kBAAL;AAAyB;AACvB,iCACKmB,KADL,EAEKE,OAFL;AAGEL,UAAAA,mBAAmB,EAAE;AAHvB;AAKD;;AAED,SAAKd,oBAAL;AAA2B;AAAA,YACjBoB,EADiB,GACVD,OADU,CACjBC,EADiB;AAEzB,iCACKH,KADL;AAEET,UAAAA,IAAI,oBACCS,KAAK,CAACT,IADP,sBAEDY,EAFC,oBAESD,OAFT;AAFN;AAOD;;AAED,SAAKb,gBAAL;AAAuB;AAAA,YACbe,UADa,GACsBF,OADtB,CACbE,UADa;AAAA,YACDC,kBADC,GACsBH,OADtB,CACDG,kBADC;AAErB,iCACKL,KADL;AAEER,UAAAA,KAAK,EAAE;AACLE,YAAAA,OAAO,EAAEU,UADJ;AAELX,YAAAA,eAAe,EAAEY;AAFZ;AAFT;AAOD;;AAED,SAAK1B,mCAAL;AAA0C;AAAA,YAChCwB,GADgC,GACzBD,OADyB,CAChCC,EADgC;AAGxC,iCACKH,KADL;AAEET,UAAAA,IAAI,oBACCS,KAAK,CAACT,IADP,sBAEDY,GAFC,oBAGGH,KAAK,CAACT,IAAN,CAAWY,GAAX,CAHH,EAIGD,OAJH;AAFN;AAUD;;AAED,SAAKd,6BAAL;AAAoC;AAClC,iCACKY,KADL;AAEER,UAAAA,KAAK,EAAE;AACLC,YAAAA,eAAe,EAAES,OAAO,CAACI,YADpB;AAELZ,YAAAA,OAAO,EAAEQ,OAAO,CAACK;AAFZ;AAFT;AAOD;;AAED,SAAK3B,kBAAL;AAAyB;AACvB,iCACKoB,KADL;AAEEH,UAAAA,mBAAmB,EAAE;AAFvB;AAID;;AAED,SAAKf,gBAAL;AAAuB;AACrB,iCACKkB,KADL;AAEEH,UAAAA,mBAAmB,EAAE;AAFvB;AAID;;AAED,SAAKb,8BAAL;AACA,SAAKC,oBAAL;AAA2B;AACzB,iCACKe,KADL;AAEEF,UAAAA,cAAc,EAAE;AAFlB;AAID;;AAED,SAAKX,kBAAL;AAAyB;AACvB,iCACKa,KADL;AAEEF,UAAAA,cAAc,EAAE;AAFlB;AAID;;AAED;AACE,aAAOE,KAAP;AAjGJ;AAmGD;;;;;;;;;;0BAhHKV,Y;0BAYUS,a","sourcesContent":["import {\n  SET_UPDATED_ORDER_IN_STORE_DIRECTLY,\n  GET_ORDERS_REQUEST,\n  GET_ORDERS_SUCCESS,\n  GET_ORDERS_ERROR,\n  UPDATE_ORDER_SUCCESS,\n  CHECKOUT__CREATE_ORDER_REQUEST,\n  CREATE_ORDER_REQUEST,\n  CREATE_ORDER_SUCCESS,\n  CREATE_ORDER_ERROR,\n  GET_ORDERS_TOTAL_INFO_SUCCESS,\n  SET_ORDERS_TOTAL,\n} from './orders.types';\n\nconst initialState = {\n  byId: {},\n  total: {\n    ordersCompleted: 0,\n    revenue: 0,\n  },\n  allIds: [],\n  managed: null,\n  isOrdersListLoading: false,\n  isOrderLoading: false,\n};\n\nexport function ordersReducer(state = initialState, { type, payload }) {\n  switch (type) {\n    case CREATE_ORDER_SUCCESS: {\n      return {\n        ...state,\n        isOrderLoading: false,\n        byId: {\n          ...state.byId,\n          [payload.id]: payload,\n        },\n        allIds: [payload.id, ...state.allIds],\n      };\n    }\n    case GET_ORDERS_SUCCESS: {\n      return {\n        ...state,\n        ...payload,\n        isOrdersListLoading: false,\n      };\n    }\n\n    case UPDATE_ORDER_SUCCESS: {\n      const { id } = payload;\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [id]: { ...payload },\n        },\n      };\n    }\n\n    case SET_ORDERS_TOTAL: {\n      const { newRevenue, newOrdersCompleted } = payload;\n      return {\n        ...state,\n        total: {\n          revenue: newRevenue,\n          ordersCompleted: newOrdersCompleted,\n        },\n      };\n    }\n\n    case SET_UPDATED_ORDER_IN_STORE_DIRECTLY: {\n      const { id } = payload;\n\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [id]: {\n            ...state.byId[id],\n            ...payload,\n          },\n        },\n      };\n    }\n\n    case GET_ORDERS_TOTAL_INFO_SUCCESS: {\n      return {\n        ...state,\n        total: {\n          ordersCompleted: payload.total_orders,\n          revenue: payload.total_revenue,\n        },\n      };\n    }\n\n    case GET_ORDERS_REQUEST: {\n      return {\n        ...state,\n        isOrdersListLoading: true,\n      };\n    }\n\n    case GET_ORDERS_ERROR: {\n      return {\n        ...state,\n        isOrdersListLoading: false,\n      };\n    }\n\n    case CHECKOUT__CREATE_ORDER_REQUEST:\n    case CREATE_ORDER_REQUEST: {\n      return {\n        ...state,\n        isOrderLoading: true,\n      };\n    }\n\n    case CREATE_ORDER_ERROR: {\n      return {\n        ...state,\n        isOrderLoading: false,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}