{"ast":null,"code":"import _classCallCheck from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _applyDecoratedDescriptor from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _class, _class2, _temp;\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { autobind } from 'core-decorators';\nimport { axiosInstance as defaultAxiosInstance } from './axiosInstance';\nexport var BaseApiService = (_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction () {\n  _createClass(BaseApiService, null, [{\n    key: \"bodyToFormData\",\n    value: function bodyToFormData(body) {\n      var formData = new FormData(); // eslint-disable-next-line\n\n      for (var name in body) {\n        formData.append(name, body[name]);\n      }\n\n      return formData;\n    }\n  }]);\n\n  function BaseApiService(baseEndpoint) {\n    var _this = this;\n\n    var axiosInstance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultAxiosInstance;\n\n    _classCallCheck(this, BaseApiService);\n\n    this.create = this.post;\n\n    this._getId = function (entity) {\n      return entity[_this.constructor.idField];\n    };\n\n    this.baseEndpoint = baseEndpoint;\n    this.axiosInstance = axiosInstance;\n  }\n\n  _createClass(BaseApiService, [{\n    key: \"post\",\n    value: function post(body, configs, url) {\n      return this.axiosInstance.post(url || this.baseEndpoint, body, configs);\n    } // alias for post\n\n  }, {\n    key: \"getById\",\n    value: function getById(id, configs, url) {\n      return this.axiosInstance.get(url || \"\".concat(this.baseEndpoint, \"/\").concat(id), configs);\n    }\n  }, {\n    key: \"get\",\n    value: function get(configs, url) {\n      return this.axiosInstance.get(url || this.baseEndpoint, configs);\n    }\n  }, {\n    key: \"patch\",\n    value: function patch(entity, configs, url) {\n      return this.axiosInstance.patch(url || \"\".concat(this.baseEndpoint, \"/\").concat(this._getId(entity)), entity, configs);\n    }\n  }, {\n    key: \"put\",\n    value: function put(entity, configs, url) {\n      return this.axiosInstance.put(url || \"\".concat(this.baseEndpoint, \"/\").concat(this._getId(entity)), entity, configs);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(id, configs, url) {\n      return this.axiosInstance.delete(url || \"\".concat(this.baseEndpoint, \"/\").concat(id), configs);\n    }\n  }, {\n    key: \"request\",\n    value: function request(config) {\n      return this.axiosInstance.request(config);\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return BaseApiService;\n}(), _class2.idField = 'id', _temp), (_applyDecoratedDescriptor(_class.prototype, \"post\", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, \"post\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getById\", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, \"getById\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"get\", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, \"get\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"patch\", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, \"patch\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"put\", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, \"put\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"delete\", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, \"delete\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"request\", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, \"request\"), _class.prototype)), _class);\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(BaseApiService, \"BaseApiService\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/services/BaseApiService/BaseApiService.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/services/BaseApiService/BaseApiService.js"],"names":["autobind","axiosInstance","defaultAxiosInstance","BaseApiService","body","formData","FormData","name","append","baseEndpoint","create","post","_getId","entity","constructor","idField","configs","url","id","get","patch","put","delete","config","request"],"mappings":";;;;;;;;;;;AAAA,SAASA,QAAT,QAAyB,iBAAzB;AAEA,SAASC,aAAa,IAAIC,oBAA1B,QAAsD,iBAAtD;AAEA,WAAaC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA,mCAGwBC,IAHxB,EAG8B;AAC1B,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB,CAD0B,CAG1B;;AACA,WAAK,IAAMC,IAAX,IAAmBH,IAAnB,EAAyB;AACvBC,QAAAA,QAAQ,CAACG,MAAT,CAAgBD,IAAhB,EAAsBH,IAAI,CAACG,IAAD,CAA1B;AACD;;AAED,aAAOF,QAAP;AACD;AAZH;;AAcE,0BAAYI,YAAZ,EAAgE;AAAA;;AAAA,QAAtCR,aAAsC,uEAAtBC,oBAAsB;;AAAA;;AAAA,SAWhEQ,MAXgE,GAWvD,KAAKC,IAXkD;;AAAA,SAsDhEC,MAtDgE,GAsDvD,UAAAC,MAAM;AAAA,aAAIA,MAAM,CAAC,KAAI,CAACC,WAAL,CAAiBC,OAAlB,CAAV;AAAA,KAtDiD;;AAC9D,SAAKN,YAAL,GAAoBA,YAApB;AACA,SAAKR,aAAL,GAAqBA,aAArB;AACD;;AAjBH;AAAA;AAAA,yBAoBOG,IApBP,EAoBaY,OApBb,EAoBsBC,GApBtB,EAoB2B;AACvB,aAAO,KAAKhB,aAAL,CAAmBU,IAAnB,CAAwBM,GAAG,IAAI,KAAKR,YAApC,EAAkDL,IAAlD,EAAwDY,OAAxD,CAAP;AACD,KAtBH,CAwBE;;AAxBF;AAAA;AAAA,4BA4BUE,EA5BV,EA4BcF,OA5Bd,EA4BuBC,GA5BvB,EA4B4B;AACxB,aAAO,KAAKhB,aAAL,CAAmBkB,GAAnB,CAAuBF,GAAG,cAAO,KAAKR,YAAZ,cAA4BS,EAA5B,CAA1B,EAA4DF,OAA5D,CAAP;AACD;AA9BH;AAAA;AAAA,wBAiCMA,OAjCN,EAiCeC,GAjCf,EAiCoB;AAChB,aAAO,KAAKhB,aAAL,CAAmBkB,GAAnB,CAAuBF,GAAG,IAAI,KAAKR,YAAnC,EAAiDO,OAAjD,CAAP;AACD;AAnCH;AAAA;AAAA,0BAsCQH,MAtCR,EAsCgBG,OAtChB,EAsCyBC,GAtCzB,EAsC8B;AAC1B,aAAO,KAAKhB,aAAL,CAAmBmB,KAAnB,CACLH,GAAG,cAAO,KAAKR,YAAZ,cAA4B,KAAKG,MAAL,CAAYC,MAAZ,CAA5B,CADE,EAELA,MAFK,EAGLG,OAHK,CAAP;AAKD;AA5CH;AAAA;AAAA,wBA+CMH,MA/CN,EA+CcG,OA/Cd,EA+CuBC,GA/CvB,EA+C4B;AACxB,aAAO,KAAKhB,aAAL,CAAmBoB,GAAnB,CACLJ,GAAG,cAAO,KAAKR,YAAZ,cAA4B,KAAKG,MAAL,CAAYC,MAAZ,CAA5B,CADE,EAELA,MAFK,EAGLG,OAHK,CAAP;AAKD;AArDH;AAAA;AAAA,4BAwDSE,EAxDT,EAwDaF,OAxDb,EAwDsBC,GAxDtB,EAwD2B;AACvB,aAAO,KAAKhB,aAAL,CAAmBqB,MAAnB,CACLL,GAAG,cAAO,KAAKR,YAAZ,cAA4BS,EAA5B,CADE,EAELF,OAFK,CAAP;AAID;AA7DH;AAAA;AAAA,4BAgEUO,MAhEV,EAgEkB;AACd,aAAO,KAAKtB,aAAL,CAAmBuB,OAAnB,CAA2BD,MAA3B,CAAP;AACD;AAlEH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,aACSR,OADT,GACmB,IADnB,gEAmBGf,QAnBH,yIA2BGA,QA3BH,wIAgCGA,QAhCH,sIAqCGA,QArCH,sIA8CGA,QA9CH,uIAuDGA,QAvDH,2IA+DGA,QA/DH;;;;;;;;;;0BAAaG,c","sourcesContent":["import { autobind } from 'core-decorators';\n\nimport { axiosInstance as defaultAxiosInstance } from './axiosInstance';\n\nexport class BaseApiService {\n  static idField = 'id';\n\n  static bodyToFormData(body) {\n    const formData = new FormData();\n\n    // eslint-disable-next-line\n    for (const name in body) {\n      formData.append(name, body[name]);\n    }\n\n    return formData;\n  }\n\n  constructor(baseEndpoint, axiosInstance = defaultAxiosInstance) {\n    this.baseEndpoint = baseEndpoint;\n    this.axiosInstance = axiosInstance;\n  }\n\n  @autobind\n  post(body, configs, url) {\n    return this.axiosInstance.post(url || this.baseEndpoint, body, configs);\n  }\n\n  // alias for post\n  create = this.post;\n\n  @autobind\n  getById(id, configs, url) {\n    return this.axiosInstance.get(url || `${this.baseEndpoint}/${id}`, configs);\n  }\n\n  @autobind\n  get(configs, url) {\n    return this.axiosInstance.get(url || this.baseEndpoint, configs);\n  }\n\n  @autobind\n  patch(entity, configs, url) {\n    return this.axiosInstance.patch(\n      url || `${this.baseEndpoint}/${this._getId(entity)}`,\n      entity,\n      configs,\n    );\n  }\n\n  @autobind\n  put(entity, configs, url) {\n    return this.axiosInstance.put(\n      url || `${this.baseEndpoint}/${this._getId(entity)}`,\n      entity,\n      configs,\n    );\n  }\n\n  @autobind\n  delete(id, configs, url) {\n    return this.axiosInstance.delete(\n      url || `${this.baseEndpoint}/${id}`,\n      configs,\n    );\n  }\n\n  @autobind\n  request(config) {\n    return this.axiosInstance.request(config);\n  }\n\n  _getId = entity => entity[this.constructor.idField];\n}\n"]},"metadata":{},"sourceType":"module"}