{"ast":null,"code":"import _defineProperty from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { createSelector } from 'reselect';\nimport { orderDeliveryMethods, orderStatuses } from '../../constants';\nvar DELIVERY = orderDeliveryMethods.DELIVERY,\n    PICKUP = orderDeliveryMethods.PICKUP;\nvar NEW = orderStatuses.NEW,\n    IN_PROCESS = orderStatuses.IN_PROCESS,\n    IN_DELIVERY = orderStatuses.IN_DELIVERY,\n    READY = orderStatuses.READY,\n    REFUND = orderStatuses.REFUND,\n    COMPLETE = orderStatuses.COMPLETE,\n    PENDING = orderStatuses.PENDING;\nexport var ordersByIdsSelector = function ordersByIdsSelector(_ref) {\n  var orders = _ref.orders;\n  return orders.byId;\n};\nexport var allOrdersIdsSelector = function allOrdersIdsSelector(_ref2) {\n  var orders = _ref2.orders;\n  return orders.allIds;\n};\nexport var isOrdersListLoadingSelector = function isOrdersListLoadingSelector(_ref3) {\n  var orders = _ref3.orders;\n  return orders.isOrdersListLoading;\n};\nexport var ordersTotalInfoSelector = function ordersTotalInfoSelector(_ref4) {\n  var orders = _ref4.orders;\n  return orders.total;\n};\nexport var orderIsLoadingSelector = function orderIsLoadingSelector(_ref5) {\n  var orders = _ref5.orders;\n  return orders.isOrderLoading;\n};\nexport var allOrdersSelector = createSelector([ordersByIdsSelector, allOrdersIdsSelector], function (byId, allIds) {\n  return allIds.map(function (id) {\n    return byId[id];\n  });\n});\nexport var ordersByStatusesSelector = createSelector([allOrdersSelector], function (orders) {\n  var res = {\n    all: orders\n  };\n  orders.forEach(function (order) {\n    if (res[order.status]) {\n      res[order.status].push(order);\n    } else {\n      res[order.status] = [order];\n    }\n  });\n  return res;\n});\n\nvar generateOrdersByStatusesInitialValues = function generateOrdersByStatusesInitialValues() {\n  var _ref6;\n\n  return _ref6 = {}, _defineProperty(_ref6, NEW, []), _defineProperty(_ref6, IN_PROCESS, []), _defineProperty(_ref6, IN_DELIVERY, []), _defineProperty(_ref6, READY, []), _defineProperty(_ref6, REFUND, []), _defineProperty(_ref6, COMPLETE, []), _defineProperty(_ref6, PENDING, []), _ref6;\n};\n\nexport var ordersByDeliveryMethodsAndStatusesSelector = createSelector([allOrdersSelector], function (orders) {\n  var _res;\n\n  var res = (_res = {}, _defineProperty(_res, DELIVERY, generateOrdersByStatusesInitialValues()), _defineProperty(_res, PICKUP, generateOrdersByStatusesInitialValues()), _res);\n  orders.forEach(function (order) {\n    res[order.delivery_method][order.status].push(order);\n  });\n  return res;\n}); // save the same link to the same empty object => prevent recomputing clientInfoByOrderIdSelector\n\nvar emptyOrder = {};\nexport var orderByIdFromPropsSelector = function orderByIdFromPropsSelector(_ref7, _ref8) {\n  var orders = _ref7.orders;\n  var orderId = _ref8.orderId;\n  return orders.byId[orderId] || emptyOrder;\n};\nexport var clientInfoByOrderIdSelector = createSelector([orderByIdFromPropsSelector], function (order) {\n  return {\n    id: order.id,\n    name: order.name,\n    phone: order.phone,\n    email: order.email,\n    street_address: order.street_address,\n    zipcode: order.zipcode,\n    city: order.city,\n    building: order.building,\n    appartment: order.appartment,\n    delivery_method: order.delivery_method,\n    payment_method: order.payment_method\n  };\n});\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(DELIVERY, \"DELIVERY\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(PICKUP, \"PICKUP\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(NEW, \"NEW\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(IN_PROCESS, \"IN_PROCESS\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(IN_DELIVERY, \"IN_DELIVERY\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(READY, \"READY\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(REFUND, \"REFUND\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(COMPLETE, \"COMPLETE\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(PENDING, \"PENDING\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(ordersByIdsSelector, \"ordersByIdsSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(allOrdersIdsSelector, \"allOrdersIdsSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(isOrdersListLoadingSelector, \"isOrdersListLoadingSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(ordersTotalInfoSelector, \"ordersTotalInfoSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(orderIsLoadingSelector, \"orderIsLoadingSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(allOrdersSelector, \"allOrdersSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(ordersByStatusesSelector, \"ordersByStatusesSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(generateOrdersByStatusesInitialValues, \"generateOrdersByStatusesInitialValues\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(ordersByDeliveryMethodsAndStatusesSelector, \"ordersByDeliveryMethodsAndStatusesSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(emptyOrder, \"emptyOrder\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(orderByIdFromPropsSelector, \"orderByIdFromPropsSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n  reactHotLoader.register(clientInfoByOrderIdSelector, \"clientInfoByOrderIdSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/orders/orders.selectors.js"],"names":["createSelector","orderDeliveryMethods","orderStatuses","DELIVERY","PICKUP","NEW","IN_PROCESS","IN_DELIVERY","READY","REFUND","COMPLETE","PENDING","ordersByIdsSelector","orders","byId","allOrdersIdsSelector","allIds","isOrdersListLoadingSelector","isOrdersListLoading","ordersTotalInfoSelector","total","orderIsLoadingSelector","isOrderLoading","allOrdersSelector","map","id","ordersByStatusesSelector","res","all","forEach","order","status","push","generateOrdersByStatusesInitialValues","ordersByDeliveryMethodsAndStatusesSelector","delivery_method","emptyOrder","orderByIdFromPropsSelector","orderId","clientInfoByOrderIdSelector","name","phone","email","street_address","zipcode","city","building","appartment","payment_method"],"mappings":"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","sourcesContent":["import { createSelector } from 'reselect';\nimport { orderDeliveryMethods, orderStatuses } from '../../constants';\n\nconst { DELIVERY, PICKUP } = orderDeliveryMethods;\nconst {\n  NEW,\n  IN_PROCESS,\n  IN_DELIVERY,\n  READY,\n  REFUND,\n  COMPLETE,\n  PENDING,\n} = orderStatuses;\n\nexport const ordersByIdsSelector = ({ orders }) => orders.byId;\nexport const allOrdersIdsSelector = ({ orders }) => orders.allIds;\nexport const isOrdersListLoadingSelector = ({ orders }) =>\n  orders.isOrdersListLoading;\nexport const ordersTotalInfoSelector = ({ orders }) => orders.total;\nexport const orderIsLoadingSelector = ({ orders }) => orders.isOrderLoading;\n\nexport const allOrdersSelector = createSelector(\n  [ordersByIdsSelector, allOrdersIdsSelector],\n  (byId, allIds) => allIds.map(id => byId[id]),\n);\n\nexport const ordersByStatusesSelector = createSelector(\n  [allOrdersSelector],\n  orders => {\n    const res = { all: orders };\n\n    orders.forEach(order => {\n      if (res[order.status]) {\n        res[order.status].push(order);\n      } else {\n        res[order.status] = [order];\n      }\n    });\n\n    return res;\n  },\n);\n\nconst generateOrdersByStatusesInitialValues = () => ({\n  [NEW]: [],\n  [IN_PROCESS]: [],\n  [IN_DELIVERY]: [],\n  [READY]: [],\n  [REFUND]: [],\n  [COMPLETE]: [],\n  [PENDING]: [],\n});\n\nexport const ordersByDeliveryMethodsAndStatusesSelector = createSelector(\n  [allOrdersSelector],\n  orders => {\n    const res = {\n      [DELIVERY]: generateOrdersByStatusesInitialValues(),\n      [PICKUP]: generateOrdersByStatusesInitialValues(),\n    };\n\n    orders.forEach(order => {\n      res[order.delivery_method][order.status].push(order);\n    });\n\n    return res;\n  },\n);\n\n// save the same link to the same empty object => prevent recomputing clientInfoByOrderIdSelector\nconst emptyOrder = {};\nexport const orderByIdFromPropsSelector = ({ orders }, { orderId }) =>\n  orders.byId[orderId] || emptyOrder;\n\nexport const clientInfoByOrderIdSelector = createSelector(\n  [orderByIdFromPropsSelector],\n  order => {\n    return {\n      id: order.id,\n      name: order.name,\n      phone: order.phone,\n      email: order.email,\n      street_address: order.street_address,\n      zipcode: order.zipcode,\n      city: order.city,\n      building: order.building,\n      appartment: order.appartment,\n      delivery_method: order.delivery_method,\n      payment_method: order.payment_method,\n    };\n  },\n);\n"]},"metadata":{},"sourceType":"module"}