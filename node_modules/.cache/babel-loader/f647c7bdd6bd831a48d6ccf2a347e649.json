{"ast":null,"code":"(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport { SIGN_IN_SUCCESS, SIGN_OUT, getDictionaries } from '/modules';\nimport { HelperService } from '/services';\n\nvar _default = function _default(store) {\n  return function (next) {\n    return function (action) {\n      switch (action.type) {\n        case SIGN_IN_SUCCESS:\n          {\n            HelperService.setInStorage(localStorage, 'token', action.response.token);\n            store.dispatch(getDictionaries());\n            return next(action);\n          }\n\n        case SIGN_OUT:\n          {\n            HelperService.popFromStorage(localStorage, 'token');\n            return next(action);\n          }\n\n        default:\n          {\n            return next(action);\n          }\n      }\n    };\n  };\n};\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_default, \"default\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/store/middleware/sessionMiddleware.js\");\n  leaveModule(module);\n})();\n\n;","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus-front.loc/src/store/middleware/sessionMiddleware.js"],"names":["SIGN_IN_SUCCESS","SIGN_OUT","getDictionaries","HelperService","store","next","action","type","setInStorage","localStorage","response","token","dispatch","popFromStorage"],"mappings":";;;;;;AAAA,SAASA,eAAT,EAA0BC,QAA1B,EAAoCC,eAApC,QAA2D,UAA3D;AACA,SAASC,aAAT,QAA8B,WAA9B;;eAEe,kBAAAC,KAAK;AAAA,SAAI,UAAAC,IAAI;AAAA,WAAI,UAAAC,MAAM,EAAI;AACtC,cAAQA,MAAM,CAACC,IAAf;AACI,aAAKP,eAAL;AAAsB;AAClBG,YAAAA,aAAa,CAACK,YAAd,CACIC,YADJ,EAEI,OAFJ,EAGIH,MAAM,CAACI,QAAP,CAAgBC,KAHpB;AAKAP,YAAAA,KAAK,CAACQ,QAAN,CAAeV,eAAe,EAA9B;AACA,mBAAOG,IAAI,CAACC,MAAD,CAAX;AACH;;AAED,aAAKL,QAAL;AAAe;AACXE,YAAAA,aAAa,CAACU,cAAd,CAA6BJ,YAA7B,EAA2C,OAA3C;AAEA,mBAAOJ,IAAI,CAACC,MAAD,CAAX;AACH;;AAED;AAAS;AACL,mBAAOD,IAAI,CAACC,MAAD,CAAX;AACH;AAnBL;AAqBH,KAtB2B;AAAA,GAAR;AAAA,C;;AAApB","sourcesContent":["import { SIGN_IN_SUCCESS, SIGN_OUT, getDictionaries } from '/modules';\nimport { HelperService } from '/services';\n\nexport default store => next => action => {\n    switch (action.type) {\n        case SIGN_IN_SUCCESS: {\n            HelperService.setInStorage(\n                localStorage,\n                'token',\n                action.response.token\n            );\n            store.dispatch(getDictionaries());\n            return next(action);\n        }\n\n        case SIGN_OUT: {\n            HelperService.popFromStorage(localStorage, 'token');\n\n            return next(action);\n        }\n\n        default: {\n            return next(action);\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"module"}