{"ast":null,"code":"import _defineProperty from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { API_REQUESTS_ABORT } from '../../../modules/core/core.types';\nimport { CALL_API } from '../../../store/middleware/api';\nexport var resource = '/dish/autocomplete';\nexport var DISH_LIST_AUTOCOMPLETE_REQUEST = \"\".concat(resource, \"/request\");\nexport var DISH_LIST_AUTOCOMPLETE_SUCCESS = \"\".concat(resource, \"/success\");\nexport var DISH_LIST_AUTOCOMPLETE_ERROR = \"\".concat(resource, \"/error\");\nexport var DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED = \"\".concat(resource, \"/filters/changed\");\nexport var DISH_LIST_AUTOCOMPLETE_SET_PAGE = \"\".concat(resource, \"/filters/set-page\");\nexport var DISH_LIST_AUTOCOMPLETE_CLEAR = \"\".concat(resource, \"/clear\");\n\nvar getInitialState = function getInitialState() {\n  return {\n    loading: false,\n    error: null,\n    filters: {\n      name: '',\n      page: 1,\n      limit: 10\n    },\n    data: [],\n    count: 0\n  };\n};\n\nexport var reducer = _defineProperty({\n  name: resource\n}, resource, function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getInitialState();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case DISH_LIST_AUTOCOMPLETE_REQUEST:\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case DISH_LIST_AUTOCOMPLETE_SUCCESS:\n      return _objectSpread({}, state, {\n        count: Number(action.response.count),\n        data: state.data.concat(action.response.data),\n        loading: false\n      });\n\n    case DISH_LIST_AUTOCOMPLETE_ERROR:\n      return _objectSpread({}, state, {\n        error: action.error,\n        loading: false\n      });\n\n    case DISH_LIST_AUTOCOMPLETE_CLEAR:\n      {\n        return getInitialState();\n      }\n\n    case DISH_LIST_AUTOCOMPLETE_SET_PAGE:\n      return _objectSpread({}, state, {\n        page: action.page\n      });\n\n    case DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED:\n      return _objectSpread({}, state, {\n        data: [],\n        filters: _objectSpread({}, state.filters, action.filters)\n      });\n\n    default:\n      return state;\n  }\n});\nexport function getDishesForAutocomplete(body) {\n  return {\n    type: CALL_API,\n    request: _objectSpread({\n      method: 'GET',\n      endpoint: '/dish',\n      types: [DISH_LIST_AUTOCOMPLETE_REQUEST, DISH_LIST_AUTOCOMPLETE_SUCCESS, DISH_LIST_AUTOCOMPLETE_ERROR]\n    }, body)\n  };\n}\nexport function updateFilters(filters) {\n  return {\n    type: DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED,\n    filters: filters\n  };\n}\nexport function abortPageRequests() {\n  return {\n    type: API_REQUESTS_ABORT,\n    requestTypes: [DISH_LIST_AUTOCOMPLETE_REQUEST]\n  };\n}\nexport function setPage(page) {\n  return {\n    type: DISH_LIST_AUTOCOMPLETE_SET_PAGE,\n    page: page\n  };\n}\nexport function clearAutocomplete() {\n  return {\n    type: DISH_LIST_AUTOCOMPLETE_CLEAR\n  };\n}\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(resource, \"resource\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(DISH_LIST_AUTOCOMPLETE_REQUEST, \"DISH_LIST_AUTOCOMPLETE_REQUEST\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(DISH_LIST_AUTOCOMPLETE_SUCCESS, \"DISH_LIST_AUTOCOMPLETE_SUCCESS\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(DISH_LIST_AUTOCOMPLETE_ERROR, \"DISH_LIST_AUTOCOMPLETE_ERROR\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED, \"DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(DISH_LIST_AUTOCOMPLETE_SET_PAGE, \"DISH_LIST_AUTOCOMPLETE_SET_PAGE\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(DISH_LIST_AUTOCOMPLETE_CLEAR, \"DISH_LIST_AUTOCOMPLETE_CLEAR\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(getInitialState, \"getInitialState\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(reducer, \"reducer\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(getDishesForAutocomplete, \"getDishesForAutocomplete\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(updateFilters, \"updateFilters\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(abortPageRequests, \"abortPageRequests\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(setPage, \"setPage\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n  reactHotLoader.register(clearAutocomplete, \"clearAutocomplete\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/DishAutocomplete/modules/dish-autocomplete.modules.js"],"names":["API_REQUESTS_ABORT","CALL_API","resource","DISH_LIST_AUTOCOMPLETE_REQUEST","DISH_LIST_AUTOCOMPLETE_SUCCESS","DISH_LIST_AUTOCOMPLETE_ERROR","DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED","DISH_LIST_AUTOCOMPLETE_SET_PAGE","DISH_LIST_AUTOCOMPLETE_CLEAR","getInitialState","loading","error","filters","name","page","limit","data","count","reducer","state","action","type","Number","response","concat","getDishesForAutocomplete","body","request","method","endpoint","types","updateFilters","abortPageRequests","requestTypes","setPage","clearAutocomplete"],"mappings":"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","sourcesContent":["import { API_REQUESTS_ABORT } from '../../../modules/core/core.types';\nimport { CALL_API } from '../../../store/middleware/api';\n\nexport const resource = '/dish/autocomplete';\n\nexport const DISH_LIST_AUTOCOMPLETE_REQUEST = `${resource}/request`;\nexport const DISH_LIST_AUTOCOMPLETE_SUCCESS = `${resource}/success`;\nexport const DISH_LIST_AUTOCOMPLETE_ERROR = `${resource}/error`;\nexport const DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED = `${resource}/filters/changed`;\nexport const DISH_LIST_AUTOCOMPLETE_SET_PAGE = `${resource}/filters/set-page`;\nexport const DISH_LIST_AUTOCOMPLETE_CLEAR = `${resource}/clear`;\n\nconst getInitialState = () => ({\n  loading: false,\n  error: null,\n  filters: {\n    name: '',\n    page: 1,\n    limit: 10,\n  },\n  data: [],\n  count: 0,\n});\n\nexport const reducer = {\n  name: resource,\n  [resource](state = getInitialState(), action) {\n    switch (action.type) {\n      case DISH_LIST_AUTOCOMPLETE_REQUEST:\n        return {\n          ...state,\n          loading: true,\n        };\n      case DISH_LIST_AUTOCOMPLETE_SUCCESS:\n        return {\n          ...state,\n          count: Number(action.response.count),\n          data: state.data.concat(action.response.data),\n          loading: false,\n        };\n      case DISH_LIST_AUTOCOMPLETE_ERROR:\n        return {\n          ...state,\n          error: action.error,\n          loading: false,\n        };\n      case DISH_LIST_AUTOCOMPLETE_CLEAR: {\n        return getInitialState();\n      }\n      case DISH_LIST_AUTOCOMPLETE_SET_PAGE:\n        return {\n          ...state,\n          page: action.page,\n        };\n      case DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED:\n        return {\n          ...state,\n          data: [],\n          filters: {\n            ...state.filters,\n            ...action.filters,\n          },\n        };\n      default:\n        return state;\n    }\n  },\n};\n\nexport function getDishesForAutocomplete(body) {\n  return {\n    type: CALL_API,\n    request: {\n      method: 'GET',\n      endpoint: '/dish',\n      types: [\n        DISH_LIST_AUTOCOMPLETE_REQUEST,\n        DISH_LIST_AUTOCOMPLETE_SUCCESS,\n        DISH_LIST_AUTOCOMPLETE_ERROR,\n      ],\n      ...body,\n    },\n  };\n}\n\nexport function updateFilters(filters) {\n  return {\n    type: DISH_LIST_AUTOCOMPLETE_FILTERS_CHANGED,\n    filters,\n  };\n}\n\nexport function abortPageRequests() {\n  return {\n    type: API_REQUESTS_ABORT,\n    requestTypes: [DISH_LIST_AUTOCOMPLETE_REQUEST],\n  };\n}\n\nexport function setPage(page) {\n  return {\n    type: DISH_LIST_AUTOCOMPLETE_SET_PAGE,\n    page,\n  };\n}\n\nexport function clearAutocomplete() {\n  return {\n    type: DISH_LIST_AUTOCOMPLETE_CLEAR,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}