{"ast":null,"code":"import _defineProperty from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport { API_REQUESTS_ABORT } from '/modules/core.modules';\nimport { CALL_API } from 'store/middleware/api';\nexport var resource = '/cuisine';\nexport var CUISINE_LIST_AUTOCOMPLETE_REQUEST = \"\".concat(resource, \"/request\");\nexport var CUISINE_LIST_AUTOCOMPLETE_SUCCESS = \"\".concat(resource, \"/success\");\nexport var CUISINE_LIST_AUTOCOMPLETE_ERROR = \"\".concat(resource, \"/error\");\nexport var CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED = \"\".concat(resource, \"/filters/changed\");\nexport var CUISINE_LIST_AUTOCOMPLETE_SET_PAGE = \"\".concat(resource, \"/filters/set-page\");\nexport var CUISINE_LIST_AUTOCOMPLETE_CLEAR = \"\".concat(resource, \"/clear\");\n\nvar getInitialState = function getInitialState() {\n  return {\n    loading: false,\n    error: null,\n    filters: {\n      name: '',\n      page: 1,\n      limit: 10\n    },\n    data: [],\n    count: 0\n  };\n};\n\nexport var reducer = _defineProperty({\n  name: resource\n}, resource, function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getInitialState();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CUISINE_LIST_AUTOCOMPLETE_REQUEST:\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case CUISINE_LIST_AUTOCOMPLETE_SUCCESS:\n      return _objectSpread({}, state, {\n        count: Number(action.response.count),\n        data: state.data.concat(action.response.data),\n        loading: false\n      });\n\n    case CUISINE_LIST_AUTOCOMPLETE_ERROR:\n      return _objectSpread({}, state, {\n        error: action.error,\n        loading: false\n      });\n\n    case CUISINE_LIST_AUTOCOMPLETE_CLEAR:\n      {\n        return getInitialState();\n      }\n\n    case CUISINE_LIST_AUTOCOMPLETE_SET_PAGE:\n      return _objectSpread({}, state, {\n        page: action.page\n      });\n\n    case CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED:\n      return _objectSpread({}, state, {\n        data: [],\n        filters: _objectSpread({}, state.filters, action.filters)\n      });\n\n    default:\n      return state;\n  }\n});\nexport function getCuisinesForAutocomplete(body) {\n  return {\n    type: CALL_API,\n    request: _objectSpread({\n      method: 'GET',\n      endpoint: '/cuisine',\n      types: [CUISINE_LIST_AUTOCOMPLETE_REQUEST, CUISINE_LIST_AUTOCOMPLETE_SUCCESS, CUISINE_LIST_AUTOCOMPLETE_ERROR]\n    }, body)\n  };\n}\nexport function updateFilters(filters) {\n  return {\n    type: CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED,\n    filters: filters\n  };\n}\nexport function abortPageRequests() {\n  return {\n    type: API_REQUESTS_ABORT,\n    requestTypes: [CUISINE_LIST_AUTOCOMPLETE_REQUEST]\n  };\n}\nexport function setPage(page) {\n  return {\n    type: CUISINE_LIST_AUTOCOMPLETE_SET_PAGE,\n    page: page\n  };\n}\nexport function clearAutocomplete() {\n  return {\n    type: CUISINE_LIST_AUTOCOMPLETE_CLEAR\n  };\n}\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(resource, \"resource\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(CUISINE_LIST_AUTOCOMPLETE_REQUEST, \"CUISINE_LIST_AUTOCOMPLETE_REQUEST\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(CUISINE_LIST_AUTOCOMPLETE_SUCCESS, \"CUISINE_LIST_AUTOCOMPLETE_SUCCESS\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(CUISINE_LIST_AUTOCOMPLETE_ERROR, \"CUISINE_LIST_AUTOCOMPLETE_ERROR\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED, \"CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(CUISINE_LIST_AUTOCOMPLETE_SET_PAGE, \"CUISINE_LIST_AUTOCOMPLETE_SET_PAGE\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(CUISINE_LIST_AUTOCOMPLETE_CLEAR, \"CUISINE_LIST_AUTOCOMPLETE_CLEAR\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(getInitialState, \"getInitialState\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(reducer, \"reducer\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(getCuisinesForAutocomplete, \"getCuisinesForAutocomplete\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(updateFilters, \"updateFilters\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(abortPageRequests, \"abortPageRequests\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(setPage, \"setPage\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  reactHotLoader.register(clearAutocomplete, \"clearAutocomplete\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js\");\n  leaveModule(module);\n})();\n\n;","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/CuisineAutoComplete/modules/cuisine.modules.js"],"names":["API_REQUESTS_ABORT","CALL_API","resource","CUISINE_LIST_AUTOCOMPLETE_REQUEST","CUISINE_LIST_AUTOCOMPLETE_SUCCESS","CUISINE_LIST_AUTOCOMPLETE_ERROR","CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED","CUISINE_LIST_AUTOCOMPLETE_SET_PAGE","CUISINE_LIST_AUTOCOMPLETE_CLEAR","getInitialState","loading","error","filters","name","page","limit","data","count","reducer","state","action","type","Number","response","concat","getCuisinesForAutocomplete","body","request","method","endpoint","types","updateFilters","abortPageRequests","requestTypes","setPage","clearAutocomplete"],"mappings":"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","sourcesContent":["import { API_REQUESTS_ABORT } from '/modules/core.modules';\nimport { CALL_API } from 'store/middleware/api';\n\nexport const resource = '/cuisine';\n\nexport const CUISINE_LIST_AUTOCOMPLETE_REQUEST = `${resource}/request`;\nexport const CUISINE_LIST_AUTOCOMPLETE_SUCCESS = `${resource}/success`;\nexport const CUISINE_LIST_AUTOCOMPLETE_ERROR = `${resource}/error`;\nexport const CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED = `${resource}/filters/changed`;\nexport const CUISINE_LIST_AUTOCOMPLETE_SET_PAGE = `${resource}/filters/set-page`;\nexport const CUISINE_LIST_AUTOCOMPLETE_CLEAR = `${resource}/clear`;\n\nconst getInitialState = () => ({\n    loading: false,\n    error: null,\n    filters: {\n        name: '',\n        page: 1,\n        limit: 10\n    },\n    data: [],\n    count: 0\n});\n\nexport const reducer = {\n    name: resource,\n    [resource]: function(state = getInitialState(), action) {\n        switch (action.type) {\n            case CUISINE_LIST_AUTOCOMPLETE_REQUEST:\n                return {\n                    ...state,\n                    loading: true\n                };\n            case CUISINE_LIST_AUTOCOMPLETE_SUCCESS:\n                return {\n                    ...state,\n                    count: Number(action.response.count),\n                    data: state.data.concat(action.response.data),\n                    loading: false\n                };\n            case CUISINE_LIST_AUTOCOMPLETE_ERROR:\n                return {\n                    ...state,\n                    error: action.error,\n                    loading: false\n                };\n            case CUISINE_LIST_AUTOCOMPLETE_CLEAR: {\n                return getInitialState();\n            }\n            case CUISINE_LIST_AUTOCOMPLETE_SET_PAGE:\n                return {\n                    ...state,\n                    page: action.page\n                };\n            case CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED:\n                return {\n                    ...state,\n                    data: [],\n                    filters: {\n                        ...state.filters,\n                        ...action.filters\n                    }\n                };\n            default:\n                return state;\n        }\n    }\n};\n\nexport function getCuisinesForAutocomplete(body) {\n    return {\n        type: CALL_API,\n        request: {\n            method: 'GET',\n            endpoint: '/cuisine',\n            types: [\n                CUISINE_LIST_AUTOCOMPLETE_REQUEST,\n                CUISINE_LIST_AUTOCOMPLETE_SUCCESS,\n                CUISINE_LIST_AUTOCOMPLETE_ERROR\n            ],\n            ...body\n        }\n    };\n}\n\nexport function updateFilters(filters) {\n    return {\n        type: CUISINE_LIST_AUTOCOMPLETE_FILTERS_CHANGED,\n        filters\n    };\n}\n\nexport function abortPageRequests() {\n    return {\n        type: API_REQUESTS_ABORT,\n        requestTypes: [\n            CUISINE_LIST_AUTOCOMPLETE_REQUEST\n        ]\n    };\n}\n\nexport function setPage(page) {\n    return {\n        type: CUISINE_LIST_AUTOCOMPLETE_SET_PAGE,\n        page\n    };\n}\n\nexport function clearAutocomplete() {\n    return {\n        type: CUISINE_LIST_AUTOCOMPLETE_CLEAR\n    }\n}\n"]},"metadata":{},"sourceType":"module"}