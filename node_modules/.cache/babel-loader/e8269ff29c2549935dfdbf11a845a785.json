{"ast":null,"code":"import _classCallCheck from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _dec,\n    _dec2,\n    _dec3,\n    _class,\n    _class2,\n    _class3,\n    _temp,\n    _jsxFileName = \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/components/forms/OrderItemForm/OrderItemForm.js\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FieldArray, Field, reduxForm } from 'redux-form';\nimport { autobind } from 'core-decorators';\nimport { Grid, Typography, withStyles } from '@material-ui/core';\nimport styles from './styles';\nimport { ClientExtrasLists } from './components/ClientExtrasLists';\nimport { ClientMultiselectionExtras } from './components/ClientMultiselectionExtras';\nimport { DishTitle, DishSizesSelect } from '../..';\nimport { orderItemFormValuesSelector } from '../selectors';\nimport { ORDER_ITEM_FORM } from '../constants/form.names';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    orderItem: orderItemFormValuesSelector(state)\n  };\n};\n\nvar OrderItemForm = (_dec = withStyles(styles), _dec2 = connect(mapStateToProps), _dec3 = reduxForm({\n  form: ORDER_ITEM_FORM,\n  enableReinitialize: true,\n  destroyOnUnmount: false\n}), _dec(_class = _dec2(_class = _dec3(_class = (_class2 = (_temp = _class3 =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(OrderItemForm, _PureComponent);\n\n  function OrderItemForm() {\n    _classCallCheck(this, OrderItemForm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(OrderItemForm).apply(this, arguments));\n  }\n\n  _createClass(OrderItemForm, [{\n    key: \"setDishAmount\",\n    value: function setDishAmount(amount) {\n      var change = this.props.change;\n      change('amount', amount);\n    }\n  }, {\n    key: \"increaseDishAmount\",\n    value: function increaseDishAmount() {\n      var amount = this.props.orderItem.amount;\n      var newAmount = amount + 1;\n      this.setDishAmount(newAmount);\n    }\n  }, {\n    key: \"decreaseDishAmount\",\n    value: function decreaseDishAmount() {\n      var amount = this.props.orderItem.amount;\n      var newAmount = amount - 1;\n      this.setDishAmount(newAmount);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          _this$props$orderItem = _this$props.orderItem,\n          name = _this$props$orderItem.name,\n          amount = _this$props$orderItem.amount,\n          selectedSize = _this$props$orderItem.selectedSize,\n          totalPrice = _this$props$orderItem.totalPrice,\n          _this$props$orderItem2 = _this$props$orderItem.sizes,\n          sizes = _this$props$orderItem2 === void 0 ? [] : _this$props$orderItem2,\n          _this$props$orderItem3 = _this$props$orderItem.extras,\n          extras = _this$props$orderItem3 === void 0 ? [] : _this$props$orderItem3;\n      return React.createElement(Grid, {\n        container: true,\n        spacing: 32,\n        wrap: \"wrap\",\n        direction: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(DishTitle, {\n        name: name,\n        price: totalPrice,\n        sizeName: (selectedSize || {}).name,\n        amount: amount,\n        canEdit: true,\n        onAddClick: this.increaseDishAmount,\n        onSubstructClick: this.decreaseDishAmount,\n        withoutDelete: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), sizes.length > 0 && React.createElement(Grid, {\n        item: true,\n        className: classes.sizesSelectSection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Field, {\n        name: \"selectedSize\",\n        options: sizes,\n        component: DishSizesSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(FieldArray, {\n        name: \"extra_lists\",\n        component: ClientExtrasLists,\n        change: this.props.change,\n        selectedSizeId: (selectedSize || {}).id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), extras.length > 0 && React.createElement(Grid, {\n        container: true,\n        item: true,\n        direction: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"subtitle1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Single extras (select multiple)\")), React.createElement(FieldArray, {\n        name: \"extras\",\n        component: ClientMultiselectionExtras,\n        selectedSizeId: (selectedSize || {}).id,\n        change: this.props.change,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return OrderItemForm;\n}(PureComponent), _class3.propTypes = {\n  change: PropTypes.func.isRequired,\n  classes: PropTypes.object,\n  orderItem: PropTypes.shape({\n    sizes: PropTypes.array,\n    selectedSize: PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string\n    }),\n    extras: PropTypes.array,\n    name: PropTypes.string,\n    amount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    totalPrice: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  })\n}, _temp), (_applyDecoratedDescriptor(_class2.prototype, \"setDishAmount\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"setDishAmount\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"increaseDishAmount\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"increaseDishAmount\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"decreaseDishAmount\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"decreaseDishAmount\"), _class2.prototype)), _class2)) || _class) || _class) || _class);\nexport { OrderItemForm as default };\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/components/forms/OrderItemForm/OrderItemForm.js\");\n  reactHotLoader.register(OrderItemForm, \"OrderItemForm\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/components/forms/OrderItemForm/OrderItemForm.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/components/forms/OrderItemForm/OrderItemForm.js"],"names":["React","PureComponent","PropTypes","connect","FieldArray","Field","reduxForm","autobind","Grid","Typography","withStyles","styles","ClientExtrasLists","ClientMultiselectionExtras","DishTitle","DishSizesSelect","orderItemFormValuesSelector","ORDER_ITEM_FORM","mapStateToProps","state","orderItem","OrderItemForm","form","enableReinitialize","destroyOnUnmount","amount","change","props","newAmount","setDishAmount","classes","name","selectedSize","totalPrice","sizes","extras","increaseDishAmount","decreaseDishAmount","length","sizesSelectSection","id","propTypes","func","isRequired","object","shape","array","number","string","oneOfType"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FieldArray, Field, reduxForm } from 'redux-form';\nimport { autobind } from 'core-decorators';\nimport { Grid, Typography, withStyles } from '@material-ui/core';\n\nimport styles from './styles';\nimport { ClientExtrasLists } from './components/ClientExtrasLists';\nimport { ClientMultiselectionExtras } from './components/ClientMultiselectionExtras';\nimport { DishTitle, DishSizesSelect } from '../..';\nimport { orderItemFormValuesSelector } from '../selectors';\nimport { ORDER_ITEM_FORM } from '../constants/form.names';\n\nconst mapStateToProps = state => ({\n  orderItem: orderItemFormValuesSelector(state),\n});\n\nexport default\n@withStyles(styles)\n@connect(mapStateToProps)\n@reduxForm({\n  form: ORDER_ITEM_FORM,\n  enableReinitialize: true,\n  destroyOnUnmount: false,\n})\nclass OrderItemForm extends PureComponent {\n  static propTypes = {\n    change: PropTypes.func.isRequired,\n    classes: PropTypes.object,\n    orderItem: PropTypes.shape({\n      sizes: PropTypes.array,\n      selectedSize: PropTypes.shape({\n        id: PropTypes.number,\n        name: PropTypes.string,\n      }),\n      extras: PropTypes.array,\n      name: PropTypes.string,\n      amount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      totalPrice: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    }),\n  };\n\n  @autobind\n  setDishAmount(amount) {\n    const { change } = this.props;\n    change('amount', amount);\n  }\n\n  @autobind\n  increaseDishAmount() {\n    const {\n      orderItem: { amount },\n    } = this.props;\n    const newAmount = amount + 1;\n    this.setDishAmount(newAmount);\n  }\n\n  @autobind\n  decreaseDishAmount() {\n    const {\n      orderItem: { amount },\n    } = this.props;\n    const newAmount = amount - 1;\n    this.setDishAmount(newAmount);\n  }\n\n  render() {\n    const {\n      classes,\n      orderItem: {\n        name,\n        amount,\n        selectedSize,\n        totalPrice,\n        sizes = [],\n        extras = [],\n      },\n    } = this.props;\n\n    return (\n      <Grid container spacing={32} wrap=\"wrap\" direction=\"column\">\n        <DishTitle\n          name={name}\n          price={totalPrice}\n          sizeName={(selectedSize || {}).name}\n          amount={amount}\n          canEdit\n          onAddClick={this.increaseDishAmount}\n          onSubstructClick={this.decreaseDishAmount}\n          withoutDelete\n        />\n\n        {sizes.length > 0 && (\n          <Grid item className={classes.sizesSelectSection}>\n            <Field\n              name=\"selectedSize\"\n              options={sizes}\n              component={DishSizesSelect}\n            />\n          </Grid>\n        )}\n\n        <FieldArray\n          name=\"extra_lists\"\n          component={ClientExtrasLists}\n          change={this.props.change}\n          selectedSizeId={(selectedSize || {}).id}\n        />\n\n        {extras.length > 0 && (\n          <Grid container item direction=\"column\">\n            <Grid item>\n              <Typography variant=\"subtitle1\">\n                Single extras (select multiple)\n              </Typography>\n            </Grid>\n            <FieldArray\n              name=\"extras\"\n              component={ClientMultiselectionExtras}\n              selectedSizeId={(selectedSize || {}).id}\n              change={this.props.change}\n            />\n          </Grid>\n        )}\n      </Grid>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}