{"ast":null,"code":"(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { createSelector } from 'reselect';\nimport { allDishesByIdsSelector } from '../../dishes';\nimport { extrasFormValuesSelector, isSizesInvalidSelector, isExtrasInvalidSelector, isDishInfoInvalidSelector, isSizesPristineSelector, isExtrasPristineSelector, isDishInfoPristineSelector } from '../../../components/forms/selectors';\nimport { managedCategoryExtrasSelector } from '../../categories';\nexport var managedDishIdSelector = function managedDishIdSelector(_ref) {\n  var modals = _ref.modals;\n  return modals.dish.dishId;\n};\nexport var managedDishSelector = createSelector([managedDishIdSelector, allDishesByIdsSelector], function (id, byIds) {\n  return byIds[id];\n});\nexport var initialDishFormsValuesSelector = createSelector([managedDishSelector], function () {\n  var dish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    dishInfoForm: {\n      name: dish.name,\n      description: dish.description,\n      picture: dish.picture,\n      price: dish.price\n    },\n    dishExtrasForm: {\n      extras: dish.extras || [],\n      extra_lists: dish.extra_lists || []\n    },\n    dishSizesForm: {\n      sizes: dish.sizes || []\n    }\n  };\n});\nexport var dishModalOpenSelector = function dishModalOpenSelector(_ref2) {\n  var modals = _ref2.modals;\n  return modals.dish.open;\n};\nexport var dishModalActiveStepSelector = function dishModalActiveStepSelector(_ref3) {\n  var modals = _ref3.modals;\n  return modals.dish.activeStep;\n};\nexport var dishModalIsEditingSelector = function dishModalIsEditingSelector(_ref4) {\n  var modals = _ref4.modals;\n  return modals.dish.isEditing;\n};\nexport var isDishEditingModalOpenSelector = function isDishEditingModalOpenSelector(state) {\n  return dishModalOpenSelector(state) && dishModalIsEditingSelector(state);\n};\nexport var isDishCreationModalOpenSelector = function isDishCreationModalOpenSelector(state) {\n  return dishModalOpenSelector(state) && !dishModalIsEditingSelector(state);\n};\nexport var substractArrByField = function substractArrByField() {\n  var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var toSubstract = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var field = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'id';\n  return target.filter(function (item1) {\n    return !toSubstract.some(function (item2) {\n      return item1[field] === item2[field];\n    });\n  });\n};\nexport var extrasFromCategorySuggestionsSelector = createSelector([managedCategoryExtrasSelector, extrasFormValuesSelector], function (_ref5, values) {\n  var extras = _ref5.extras,\n      extra_lists = _ref5.extra_lists;\n  return {\n    extras: substractArrByField(extras, values.extras),\n    extra_lists: substractArrByField(extra_lists, values.extra_lists)\n  };\n});\nexport var isDishFormInvalidSelector = function isDishFormInvalidSelector(state) {\n  return isSizesInvalidSelector(state) || isExtrasInvalidSelector(state) || isDishInfoInvalidSelector(state);\n};\nexport var isDishFormPristineSelector = function isDishFormPristineSelector(state) {\n  return isSizesPristineSelector(state) && isExtrasPristineSelector(state) && isDishInfoPristineSelector(state);\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(managedDishIdSelector, \"managedDishIdSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(managedDishSelector, \"managedDishSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(initialDishFormsValuesSelector, \"initialDishFormsValuesSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(dishModalOpenSelector, \"dishModalOpenSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(dishModalActiveStepSelector, \"dishModalActiveStepSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(dishModalIsEditingSelector, \"dishModalIsEditingSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(isDishEditingModalOpenSelector, \"isDishEditingModalOpenSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(isDishCreationModalOpenSelector, \"isDishCreationModalOpenSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(substractArrByField, \"substractArrByField\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(extrasFromCategorySuggestionsSelector, \"extrasFromCategorySuggestionsSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(isDishFormInvalidSelector, \"isDishFormInvalidSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n  reactHotLoader.register(isDishFormPristineSelector, \"isDishFormPristineSelector\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/modules/modals/dish/dish-modal.selectors.js"],"names":["createSelector","allDishesByIdsSelector","extrasFormValuesSelector","isSizesInvalidSelector","isExtrasInvalidSelector","isDishInfoInvalidSelector","isSizesPristineSelector","isExtrasPristineSelector","isDishInfoPristineSelector","managedCategoryExtrasSelector","managedDishIdSelector","modals","dish","dishId","managedDishSelector","id","byIds","initialDishFormsValuesSelector","dishInfoForm","name","description","picture","price","dishExtrasForm","extras","extra_lists","dishSizesForm","sizes","dishModalOpenSelector","open","dishModalActiveStepSelector","activeStep","dishModalIsEditingSelector","isEditing","isDishEditingModalOpenSelector","state","isDishCreationModalOpenSelector","substractArrByField","target","toSubstract","field","filter","item1","some","item2","extrasFromCategorySuggestionsSelector","values","isDishFormInvalidSelector","isDishFormPristineSelector"],"mappings":"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","sourcesContent":["import { createSelector } from 'reselect';\nimport { allDishesByIdsSelector } from '../../dishes';\n\nimport {\n  extrasFormValuesSelector,\n  isSizesInvalidSelector,\n  isExtrasInvalidSelector,\n  isDishInfoInvalidSelector,\n  isSizesPristineSelector,\n  isExtrasPristineSelector,\n  isDishInfoPristineSelector,\n} from '../../../components/forms/selectors';\n\nimport { managedCategoryExtrasSelector } from '../../categories';\n\nexport const managedDishIdSelector = ({ modals }) => modals.dish.dishId;\n\nexport const managedDishSelector = createSelector(\n  [managedDishIdSelector, allDishesByIdsSelector],\n  (id, byIds) => byIds[id],\n);\n\nexport const initialDishFormsValuesSelector = createSelector(\n  [managedDishSelector],\n  (dish = {}) => ({\n    dishInfoForm: {\n      name: dish.name,\n      description: dish.description,\n      picture: dish.picture,\n      price: dish.price,\n    },\n    dishExtrasForm: {\n      extras: dish.extras || [],\n      extra_lists: dish.extra_lists || [],\n    },\n    dishSizesForm: {\n      sizes: dish.sizes || [],\n    },\n  }),\n);\n\nexport const dishModalOpenSelector = ({ modals }) => modals.dish.open;\nexport const dishModalActiveStepSelector = ({ modals }) =>\n  modals.dish.activeStep;\nexport const dishModalIsEditingSelector = ({ modals }) => modals.dish.isEditing;\n\nexport const isDishEditingModalOpenSelector = state =>\n  dishModalOpenSelector(state) && dishModalIsEditingSelector(state);\nexport const isDishCreationModalOpenSelector = state =>\n  dishModalOpenSelector(state) && !dishModalIsEditingSelector(state);\n\nexport const substractArrByField = (\n  target = [],\n  toSubstract = [],\n  field = 'id',\n) =>\n  target.filter(\n    item1 => !toSubstract.some(item2 => item1[field] === item2[field]),\n  );\n\nexport const extrasFromCategorySuggestionsSelector = createSelector(\n  [managedCategoryExtrasSelector, extrasFormValuesSelector],\n  ({ extras, extra_lists }, values) => ({\n    extras: substractArrByField(extras, values.extras),\n    extra_lists: substractArrByField(extra_lists, values.extra_lists),\n  }),\n);\n\nexport const isDishFormInvalidSelector = state =>\n  isSizesInvalidSelector(state) ||\n  isExtrasInvalidSelector(state) ||\n  isDishInfoInvalidSelector(state);\n\nexport const isDishFormPristineSelector = state =>\n  isSizesPristineSelector(state) &&\n  isExtrasPristineSelector(state) &&\n  isDishInfoPristineSelector(state);\n"]},"metadata":{},"sourceType":"module"}