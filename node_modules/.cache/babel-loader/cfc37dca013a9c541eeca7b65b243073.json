{"ast":null,"code":"(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport { CALL_API } from './';\n\nvar _default = function _default(store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== CALL_API) {\n        return next(action);\n      }\n\n      var request = action.request;\n      var urlParams = request.urlParams;\n\n      if (urlParams) {\n        Object.keys(urlParams).forEach(function (key) {\n          request.endpoint = request.endpoint.replace(\"{\".concat(key, \"}\"), urlParams[key]);\n        });\n      }\n\n      if (!request.contentType) {\n        request.contentType = 'application/json';\n      }\n\n      return next(action);\n    };\n  };\n};\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_default, \"default\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/store/middleware/request-prepare.middleware.js\");\n  leaveModule(module);\n})();\n\n;","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus-front.loc/src/store/middleware/request-prepare.middleware.js"],"names":["CALL_API","store","next","action","type","request","urlParams","Object","keys","forEach","key","endpoint","replace","contentType"],"mappings":";;;;;;AAAA,SAASA,QAAT,QAAyB,IAAzB;;eAEe,kBAAAC,KAAK;AAAA,SAAI,UAAAC,IAAI;AAAA,WAAI,UAAAC,MAAM,EAAI;AACtC,UAAIA,MAAM,CAACC,IAAP,KAAgBJ,QAApB,EAA8B;AAC1B,eAAOE,IAAI,CAACC,MAAD,CAAX;AACH;;AAHqC,UAK9BE,OAL8B,GAKlBF,MALkB,CAK9BE,OAL8B;AAAA,UAM9BC,SAN8B,GAMhBD,OANgB,CAM9BC,SAN8B;;AAQtC,UAAIA,SAAJ,EAAe;AACXC,QAAAA,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBG,OAAvB,CAA+B,UAAAC,GAAG,EAAI;AAClCL,UAAAA,OAAO,CAACM,QAAR,GAAmBN,OAAO,CAACM,QAAR,CAAiBC,OAAjB,YACXF,GADW,QAEfJ,SAAS,CAACI,GAAD,CAFM,CAAnB;AAIH,SALD;AAMH;;AAED,UAAI,CAACL,OAAO,CAACQ,WAAb,EAA0B;AACtBR,QAAAA,OAAO,CAACQ,WAAR,GAAsB,kBAAtB;AACH;;AAED,aAAOX,IAAI,CAACC,MAAD,CAAX;AACH,KAtB2B;AAAA,GAAR;AAAA,C;;AAApB","sourcesContent":["import { CALL_API } from './';\n\nexport default store => next => action => {\n    if (action.type !== CALL_API) {\n        return next(action);\n    }\n\n    const { request } = action;\n    const { urlParams } = request;\n\n    if (urlParams) {\n        Object.keys(urlParams).forEach(key => {\n            request.endpoint = request.endpoint.replace(\n                `{${key}}`,\n                urlParams[key]\n            );\n        });\n    }\n\n    if (!request.contentType) {\n        request.contentType = 'application/json';\n    }\n\n    return next(action);\n};\n"]},"metadata":{},"sourceType":"module"}