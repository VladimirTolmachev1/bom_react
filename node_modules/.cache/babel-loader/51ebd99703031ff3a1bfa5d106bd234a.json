{"ast":null,"code":"import _classCallCheck from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _jsxFileName = \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/DishModal/components/DishModalExtra/DishModalExtra.js\",\n    _class;\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport React, { Component, Fragment } from 'react';\nimport { FieldArray } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { autobind } from 'core-decorators';\nimport { DishAutocomplete } from '/scenes/DishAutocomplete';\nimport { DishModalExtraItem } from '../';\n\nvar renderExtras = function renderExtras(_ref) {\n  var fields = _ref.fields,\n      _ref$meta = _ref.meta,\n      touched = _ref$meta.touched,\n      error = _ref$meta.error,\n      submitFailed = _ref$meta.submitFailed;\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, fields.map(function (extra, index) {\n    return React.createElement(DishModalExtraItem, {\n      key: index,\n      extra: extra,\n      index: index,\n      fields: fields,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    });\n  }), React.createElement(Button, {\n    onClick: function onClick() {\n      return fields.push({});\n    },\n    color: 'primary',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Add Extra\"), (touched || submitFailed) && error && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, error));\n};\n\nexport var DishModalExtra = (_class =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DishModalExtra, _Component);\n\n  function DishModalExtra() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DishModalExtra);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DishModalExtra)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      copyFrom: ''\n    };\n    return _this;\n  }\n\n  _createClass(DishModalExtra, [{\n    key: \"onChangeDishAutoComplete\",\n    value: function onChangeDishAutoComplete(dish) {\n      var setSameExtra = this.props.setSameExtra;\n      this.setState({\n        copyFrom: dish.label\n      });\n      setSameExtra(dish);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var category_id = this.props.category_id;\n      var copyFrom = this.state.copyFrom;\n      return React.createElement(\"div\", {\n        className: 'dish-modal_extra-section',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Copy extra from: \"), React.createElement(DishAutocomplete, {\n        withExtras: true,\n        onChange: this.onChangeDishAutoComplete,\n        category_id: category_id,\n        value: copyFrom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(FieldArray, {\n        name: \"extra\",\n        component: renderExtras,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return DishModalExtra;\n}(Component), (_applyDecoratedDescriptor(_class.prototype, \"onChangeDishAutoComplete\", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, \"onChangeDishAutoComplete\"), _class.prototype)), _class);\nDishModalExtra.propTypes = {\n  setSameExtra: PropTypes.func,\n  category_id: PropTypes.string\n};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(renderExtras, \"renderExtras\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/DishModal/components/DishModalExtra/DishModalExtra.js\");\n  reactHotLoader.register(DishModalExtra, \"DishModalExtra\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/DishModal/components/DishModalExtra/DishModalExtra.js\");\n  leaveModule(module);\n})();\n\n;","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/DishModal/components/DishModalExtra/DishModalExtra.js"],"names":["React","Component","Fragment","FieldArray","PropTypes","Button","autobind","DishAutocomplete","DishModalExtraItem","renderExtras","fields","meta","touched","error","submitFailed","map","extra","index","push","DishModalExtra","state","copyFrom","dish","setSameExtra","props","setState","label","category_id","onChangeDishAutoComplete","propTypes","func","string"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AAEA,SAASC,gBAAT,QAAiC,0BAAjC;AACA,SAASC,kBAAT,QAAmC,KAAnC;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,MAAEC,MAAF,QAAEA,MAAF;AAAA,uBAAUC,IAAV;AAAA,MAAiBC,OAAjB,aAAiBA,OAAjB;AAAA,MAA0BC,KAA1B,aAA0BA,KAA1B;AAAA,MAAiCC,YAAjC,aAAiCA,YAAjC;AAAA,SACjB,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMJ,MAAM,CAACK,GAAP,CAAW,UAACC,KAAD,EAAQC,KAAR;AAAA,WACT,oBAAC,kBAAD;AACI,MAAA,GAAG,EAAGA,KADV;AAEI,MAAA,KAAK,EAAGD,KAFZ;AAGI,MAAA,KAAK,EAAGC,KAHZ;AAII,MAAA,MAAM,EAAGP,MAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADS;AAAA,GAAX,CADN,EASI,oBAAC,MAAD;AACI,IAAA,OAAO,EAAG;AAAA,aAAMA,MAAM,CAACQ,IAAP,CAAY,EAAZ,CAAN;AAAA,KADd;AAEI,IAAA,KAAK,EAAG,SAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATJ,EAcM,CAACN,OAAO,IAAIE,YAAZ,KAA6BD,KAA7B,IAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQA,KAAR,CAd5C,CADiB;AAAA,CAArB;;AAmBA,WAAaM,cAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,UAEIC,KAFJ,GAEY;AACJC,MAAAA,QAAQ,EAAE;AADN,KAFZ;AAAA;AAAA;;AAAA;AAAA;AAAA,6CAO6BC,IAP7B,EAOmC;AAAA,UACpBC,YADoB,GACJ,KAAKC,KADD,CACpBD,YADoB;AAE3B,WAAKE,QAAL,CAAc;AAACJ,QAAAA,QAAQ,EAAEC,IAAI,CAACI;AAAhB,OAAd;AACAH,MAAAA,YAAY,CAACD,IAAD,CAAZ;AACH;AAXL;AAAA;AAAA,6BAaa;AAAA,UACEK,WADF,GACiB,KAAKH,KADtB,CACEG,WADF;AAAA,UAEEN,QAFF,GAEc,KAAKD,KAFnB,CAEEC,QAFF;AAIL,aACI;AAAK,QAAA,SAAS,EAAG,0BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,EAEI,oBAAC,gBAAD;AACI,QAAA,UAAU,MADd;AAEI,QAAA,QAAQ,EAAG,KAAKO,wBAFpB;AAGI,QAAA,WAAW,EAAGD,WAHlB;AAII,QAAA,KAAK,EAAGN,QAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAQI,oBAAC,UAAD;AAAY,QAAA,IAAI,EAAC,OAAjB;AAAyB,QAAA,SAAS,EAAGZ,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,CADJ;AAYH;AA7BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAoCR,SAApC,6EAMKK,QANL;AAgCAa,cAAc,CAACU,SAAf,GAA2B;AACvBN,EAAAA,YAAY,EAAEnB,SAAS,CAAC0B,IADD;AAEvBH,EAAAA,WAAW,EAAEvB,SAAS,CAAC2B;AAFA,CAA3B;;;;;;;;;;;;0BAnDMtB,Y;0BAmBOU,c","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { FieldArray } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { autobind } from 'core-decorators';\n\nimport { DishAutocomplete } from '/scenes/DishAutocomplete';\nimport { DishModalExtraItem } from '../';\n\nconst renderExtras = ({fields, meta: {touched, error, submitFailed}}) => (\n    <Fragment>\n        { fields.map((extra, index) => (\n            <DishModalExtraItem\n                key={ index }\n                extra={ extra }\n                index={ index }\n                fields={ fields }\n            />\n        )) }\n        <Button\n            onClick={ () => fields.push({}) }\n            color={ 'primary' }>\n            Add Extra\n        </Button>\n        { (touched || submitFailed) && error && <span>{ error }</span> }\n    </Fragment>\n);\n\nexport class DishModalExtra extends Component {\n\n    state = {\n        copyFrom: ''\n    };\n\n    @autobind\n    onChangeDishAutoComplete(dish) {\n        const {setSameExtra} = this.props;\n        this.setState({copyFrom: dish.label});\n        setSameExtra(dish);\n    }\n\n    render() {\n        const {category_id} = this.props;\n        const {copyFrom} = this.state;\n\n        return (\n            <div className={ 'dish-modal_extra-section' }>\n                <h5>Copy extra from: </h5>\n                <DishAutocomplete\n                    withExtras\n                    onChange={ this.onChangeDishAutoComplete }\n                    category_id={ category_id }\n                    value={ copyFrom }\n                />\n                <FieldArray name=\"extra\" component={ renderExtras }/>\n            </div>\n        );\n    }\n}\n\nDishModalExtra.propTypes = {\n    setSameExtra: PropTypes.func,\n    category_id: PropTypes.string\n};\n\n"]},"metadata":{},"sourceType":"module"}