{"ast":null,"code":"import _objectWithoutProperties from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nvar _jsxFileName = \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantOrders/components/OrderCard/OrderCard.js\",\n    _dec,\n    _class;\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport { Grid, Paper, withStyles, Typography } from '@material-ui/core';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping';\nimport { DragSource } from 'react-dnd';\nimport CommentIcon from '@material-ui/icons/CommentOutlined';\nimport AlarmIcon from '@material-ui/icons/Alarm';\nimport styles from './styles';\nimport { OrderActionsPopup } from '../OrderActionsPopup';\nimport { OrderProductItem } from '../OrderProductItem';\nimport { orderStatuses, dndItemTypes } from '../../../../constants';\nimport { orderShape, orderPopupActionsShape } from '../../../../constants/propTypes';\nimport { Popup } from '../../../../components';\nimport { CurrencyService } from '../../../../services';\nvar OrderCard = withStyles(styles)(function (_ref) {\n  var classes = _ref.classes,\n      popupActions = _ref.popupActions,\n      order = _ref.order;\n  return React.createElement(Paper, {\n    className: classes.cardWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, order.status === orderStatuses.IN_DELIVERY && React.createElement(Typography, {\n    color: \"textSecondary\",\n    className: classes.deliveryCaption,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(LocalShippingIcon, {\n    className: classes.deliveryIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }), \"(in delivery)\"), (popupActions || []).length > 0 && React.createElement(OrderActionsPopup, {\n    order: order,\n    triggerClassName: classes.togglePopupBtn,\n    actions: popupActions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), order.products && order.products.map(function (product) {\n    return React.createElement(OrderProductItem, {\n      key: product.id,\n      product: product,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    });\n  }), React.createElement(Grid, {\n    container: true,\n    justify: \"space-between\",\n    className: classes.cardFooter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, order.comment && React.createElement(Popup, {\n    triggerProps: {\n      className: classes.iconBtn\n    },\n    triggerContent: React.createElement(CommentIcon, {\n      fontSize: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, order.comment), orderShape.sheduledDate && React.createElement(Popup, {\n    triggerProps: {\n      className: classes.iconBtn\n    },\n    triggerContent: React.createElement(AlarmIcon, {\n      fontSize: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, orderShape.sheduledDate)), React.createElement(\"span\", {\n    className: classes.orderPrice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"$\".concat(CurrencyService.show(order.total_price)))));\n});\nOrderCard.propTypes = {\n  classes: PropTypes.object,\n  order: PropTypes.shape(orderShape).isRequired,\n  popupActions: PropTypes.arrayOf(PropTypes.shape(orderPopupActionsShape))\n};\nvar DraggableOrderCard = (_dec = DragSource(dndItemTypes.ORDER, {\n  beginDrag: function beginDrag(props, monitor, component) {\n    // eslint-disable-next-line react/no-find-dom-node\n    var _findDOMNode = findDOMNode(component),\n        clientWidth = _findDOMNode.clientWidth,\n        clientHeight = _findDOMNode.clientHeight;\n\n    return _objectSpread({}, props.order, {\n      originalCardHeight: clientHeight,\n      originalCardWidth: clientWidth\n    });\n  }\n}, function (connect, monitor) {\n  return {\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging()\n  };\n}), _dec(_class =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DraggableOrderCard, _Component);\n\n  function DraggableOrderCard() {\n    _classCallCheck(this, DraggableOrderCard);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DraggableOrderCard).apply(this, arguments));\n  }\n\n  _createClass(DraggableOrderCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.connectDragPreview(getEmptyImage(), {\n        captureDraggingState: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          connectDragSource = _this$props.connectDragSource,\n          isDragging = _this$props.isDragging,\n          isPreview = _this$props.isPreview,\n          orderCardProps = _objectWithoutProperties(_this$props, [\"connectDragSource\", \"isDragging\", \"isPreview\"]);\n\n      var style = {\n        opacity: isDragging ? 0 : 1\n      };\n      return connectDragSource(React.createElement(\"div\", {\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(OrderCard, Object.assign({}, orderCardProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }))));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return DraggableOrderCard;\n}(Component)) || _class);\nexport { OrderCard, DraggableOrderCard };\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(OrderCard, \"OrderCard\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantOrders/components/OrderCard/OrderCard.js\");\n  reactHotLoader.register(DraggableOrderCard, \"DraggableOrderCard\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantOrders/components/OrderCard/OrderCard.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/scenes/RestaurantOrders/components/OrderCard/OrderCard.js"],"names":["React","Component","PropTypes","findDOMNode","Grid","Paper","withStyles","Typography","getEmptyImage","LocalShippingIcon","DragSource","CommentIcon","AlarmIcon","styles","OrderActionsPopup","OrderProductItem","orderStatuses","dndItemTypes","orderShape","orderPopupActionsShape","Popup","CurrencyService","OrderCard","classes","popupActions","order","cardWrapper","status","IN_DELIVERY","deliveryCaption","deliveryIcon","length","togglePopupBtn","products","map","product","id","cardFooter","comment","className","iconBtn","sheduledDate","orderPrice","show","total_price","propTypes","object","shape","isRequired","arrayOf","DraggableOrderCard","ORDER","beginDrag","props","monitor","component","clientWidth","clientHeight","originalCardHeight","originalCardWidth","connect","connectDragSource","dragSource","connectDragPreview","dragPreview","isDragging","captureDraggingState","isPreview","orderCardProps","style","opacity"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport { Grid, Paper, withStyles, Typography } from '@material-ui/core';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\n\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping';\nimport { DragSource } from 'react-dnd';\nimport CommentIcon from '@material-ui/icons/CommentOutlined';\nimport AlarmIcon from '@material-ui/icons/Alarm';\nimport styles from './styles';\nimport { OrderActionsPopup } from '../OrderActionsPopup';\nimport { OrderProductItem } from '../OrderProductItem';\nimport { orderStatuses, dndItemTypes } from '../../../../constants';\nimport {\n  orderShape,\n  orderPopupActionsShape,\n} from '../../../../constants/propTypes';\nimport { Popup } from '../../../../components';\nimport { CurrencyService } from '../../../../services';\n\nconst OrderCard = withStyles(styles)(({ classes, popupActions, order }) => (\n  <Paper className={classes.cardWrapper}>\n    {order.status === orderStatuses.IN_DELIVERY && (\n      <Typography color=\"textSecondary\" className={classes.deliveryCaption}>\n        <LocalShippingIcon className={classes.deliveryIcon} />\n        (in delivery)\n      </Typography>\n    )}\n\n    {(popupActions || []).length > 0 && (\n      <OrderActionsPopup\n        order={order}\n        triggerClassName={classes.togglePopupBtn}\n        actions={popupActions}\n      />\n    )}\n\n    {order.products &&\n      order.products.map(product => (\n        <OrderProductItem key={product.id} product={product} />\n      ))}\n\n    <Grid container justify=\"space-between\" className={classes.cardFooter}>\n      <span>\n        {order.comment && (\n          <Popup\n            triggerProps={{\n              className: classes.iconBtn,\n            }}\n            triggerContent={<CommentIcon fontSize=\"inherit\" />}>\n            {order.comment}\n          </Popup>\n        )}\n\n        {orderShape.sheduledDate && (\n          <Popup\n            triggerProps={{\n              className: classes.iconBtn,\n            }}\n            triggerContent={<AlarmIcon fontSize=\"inherit\" />}>\n            {orderShape.sheduledDate}\n          </Popup>\n        )}\n      </span>\n\n      <span className={classes.orderPrice}>\n        {`$${CurrencyService.show(order.total_price)}`}\n      </span>\n    </Grid>\n  </Paper>\n));\n\nOrderCard.propTypes = {\n  classes: PropTypes.object,\n  order: PropTypes.shape(orderShape).isRequired,\n  popupActions: PropTypes.arrayOf(PropTypes.shape(orderPopupActionsShape)),\n};\n\n@DragSource(\n  dndItemTypes.ORDER,\n  {\n    beginDrag: (props, monitor, component) => {\n      // eslint-disable-next-line react/no-find-dom-node\n      const { clientWidth, clientHeight } = findDOMNode(component);\n      return {\n        ...props.order,\n        originalCardHeight: clientHeight,\n        originalCardWidth: clientWidth,\n      };\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging(),\n  }),\n)\nclass DraggableOrderCard extends Component {\n  componentDidMount() {\n    this.props.connectDragPreview(getEmptyImage(), {\n      captureDraggingState: true,\n    });\n  }\n\n  render() {\n    const {\n      connectDragSource,\n      isDragging,\n      isPreview,\n      ...orderCardProps\n    } = this.props;\n\n    const style = {\n      opacity: isDragging ? 0 : 1,\n    };\n\n    return connectDragSource(\n      <div style={style}>\n        <OrderCard {...orderCardProps} />\n      </div>,\n    );\n  }\n}\n\nexport { OrderCard, DraggableOrderCard };\n"]},"metadata":{},"sourceType":"module"}