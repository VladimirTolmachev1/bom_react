{"ast":null,"code":"import _toArray from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray\";\nimport _defineProperty from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\n/* eslint-disable no-plusplus */\n\n/* eslint-disable prefer-rest-params */\nimport queryString from 'query-string';\nexport var HelperService =\n/*#__PURE__*/\nfunction () {\n  function HelperService() {\n    _classCallCheck(this, HelperService);\n  }\n\n  _createClass(HelperService, null, [{\n    key: \"format\",\n    value: function format(str) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return str.replace(/{(\\d+)}/g, function (match, number) {\n        return typeof args[number] !== 'undefined' ? args[number] : match;\n      });\n    }\n  }, {\n    key: \"getFromStorage\",\n    value: function getFromStorage(storage, key) {\n      var value = storage.getItem(key);\n      return typeof value === 'string' && (value.startsWith('{') || value.startsWith('[')) ? JSON.parse(value) : value;\n    }\n  }, {\n    key: \"popFromStorage\",\n    value: function popFromStorage(storage, key) {\n      var item = storage.getItem(key);\n      storage.removeItem(key);\n      return item;\n    }\n  }, {\n    key: \"setInStorage\",\n    value: function setInStorage(storage, key, value) {\n      var valueToStore = typeof value === 'object' ? JSON.stringify(value) : value;\n      return storage.setItem(key, valueToStore);\n    }\n  }, {\n    key: \"debounce\",\n    value: function debounce(func, wait, immediate) {\n      var timeout;\n      return function () {\n        var context = this;\n        var args = arguments;\n\n        var later = function later() {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    }\n  }, {\n    key: \"throttle\",\n    value: function throttle(callback, delay) {\n      var isThrottled = false;\n      var args;\n      var context;\n\n      function wrapper() {\n        if (isThrottled) {\n          args = arguments;\n          context = this;\n          return;\n        }\n\n        isThrottled = true;\n        callback.apply(this, arguments);\n        setTimeout(function () {\n          isThrottled = false;\n\n          if (args) {\n            wrapper.apply(context, args);\n            args = null;\n            context = null;\n          }\n        }, delay);\n      }\n\n      return wrapper;\n    }\n  }, {\n    key: \"deepFind\",\n    value: function deepFind(obj, path) {\n      var def = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var paths = path.split('.');\n      var current = obj || {};\n\n      for (var i = 0; i < paths.length; ++i) {\n        if (!current[paths[i]]) {\n          return def;\n        }\n\n        current = current[paths[i]];\n      }\n\n      return current;\n    } // Find diff of arrays of primitive values\n\n  }, {\n    key: \"arrDiff\",\n    value: function arrDiff(arr1, arr2) {\n      return arr1.filter(function (arr1Item) {\n        return !arr2.find(function (arr2Item) {\n          return arr2Item === arr1Item;\n        });\n      });\n    }\n  }, {\n    key: \"pick\",\n    value: function pick(object, props) {\n      var temp = {};\n      props.forEach(function (prop) {\n        if (![undefined, null].includes(object[prop]) || Array.isArray(object[prop]) && object[prop].length > 0) {\n          temp[prop] = object[prop];\n        }\n      });\n      return temp;\n    }\n  }, {\n    key: \"nameFunction\",\n    value: function nameFunction(name, body) {\n      return _defineProperty({}, name, function () {\n        return body.apply(void 0, arguments);\n      })[name];\n    }\n  }, {\n    key: \"objectSize\",\n    value: function objectSize(obj) {\n      var size = 0;\n\n      for (var key in obj) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (obj.hasOwnProperty(key)) size++;\n      }\n\n      return size;\n    }\n  }, {\n    key: \"removeNull\",\n    value: function removeNull(obj) {\n      var newObj = {};\n      Object.keys(obj).forEach(function (prop) {\n        if (obj[prop] !== null) {\n          newObj[prop] = obj[prop];\n        }\n      });\n      return newObj;\n    }\n  }, {\n    key: \"removeEmptyValues\",\n    value: function removeEmptyValues(obj) {\n      var newObj = {};\n      Object.keys(obj).forEach(function (prop) {\n        if (obj[prop] !== null && obj[prop] !== '') {\n          newObj[prop] = obj[prop];\n        }\n      });\n      return newObj;\n    }\n  }, {\n    key: \"capitalize\",\n    value: function capitalize(_ref) {\n      var _ref2 = _toArray(_ref),\n          _ref2$ = _ref2[0],\n          first = _ref2$ === void 0 ? '' : _ref2$,\n          rest = _ref2.slice(1);\n\n      var lowerRest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return first.toUpperCase() + (lowerRest ? rest.join('').toLowerCase() : rest.join(''));\n    }\n  }, {\n    key: \"constToReadableText\",\n    value: function constToReadableText() {\n      var constantStr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      return HelperService.capitalize(constantStr, true).split('_').join(' ');\n    }\n  }, {\n    key: \"parseSearch\",\n    value: function parseSearch(search) {\n      return queryString.parse(search);\n    }\n  }, {\n    key: \"objToQueryString\",\n    value: function objToQueryString(paramsObject) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return queryString.stringify(paramsObject, options);\n    }\n  }, {\n    key: \"isObjectValue\",\n    value: function isObjectValue(value) {\n      return value && typeof value === 'object' && value.constructor === Object;\n    }\n  }, {\n    key: \"uniqeArray\",\n    value: function uniqeArray(array, key) {\n      return array.reduce(function (acc, item) {\n        var conditionToInclude = key ? !acc.find(function (x) {\n          return x[key] === item[key];\n        }) : !acc.includes(item);\n\n        if (conditionToInclude) {\n          acc.push(item);\n        }\n\n        return acc;\n      }, []);\n    }\n  }, {\n    key: \"getFromSessionStorage\",\n    value: function getFromSessionStorage(key) {\n      return JSON.parse(HelperService.fromString(window.sessionStorage.getItem(key)));\n    }\n  }, {\n    key: \"decodeHtmlFromString\",\n    value: function decodeHtmlFromString(string) {\n      return string.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    }\n  }, {\n    key: \"flattenDeep\",\n    value: function flattenDeep(collection) {\n      return collection.reduce(function (acc, val) {\n        return val.options && Array.isArray(val.options) ? acc.concat(HelperService.flattenDeep(val.options)) : acc.concat(val);\n      }, []);\n    }\n  }, {\n    key: \"getGroupedSelectedValue\",\n    value: function getGroupedSelectedValue(collection, value) {\n      var flattenCollection = HelperService.flattenDeep(collection);\n      return flattenCollection.find(function (item) {\n        return item.value === value;\n      });\n    }\n  }, {\n    key: \"getCroppedImg\",\n    value: function getCroppedImg(_ref3) {\n      var file = _ref3.file,\n          pixelCrop = _ref3.pixelCrop;\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      var name = file && file.name;\n      var img = new Image();\n      canvas.width = pixelCrop.width || 307; // If pixelCrop width 0, setting default crop width\n\n      canvas.height = pixelCrop.height || 307; // If pixelCrop height 0, setting default crop height\n\n      var promise = new Promise(function (resolve) {\n        img.onload = function () {\n          var crop = {\n            x: pixelCrop.x || 0,\n            y: pixelCrop.y || 0,\n            width: canvas.width,\n            height: canvas.height\n          }; // window.URL.revokeObjectURL(this.src);\n\n          ctx.drawImage(img, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);\n          canvas.toBlob(function (blob) {\n            if (blob) {\n              blob.name = name;\n              return resolve(blob);\n            }\n\n            resolve({\n              error: 'Blob is null!'\n            });\n          });\n        };\n      });\n      img.crossOrigin = '';\n      img.src = typeof file === 'string' ? file : URL.createObjectURL(file);\n      return promise;\n    }\n  }, {\n    key: \"formatCurrency\",\n    value: function formatCurrency(value) {\n      // todo\n      return Number.isNaN(Number(value)) ? value : Number(value).toFixed(2);\n    }\n  }, {\n    key: \"identity\",\n    value: function identity(value) {\n      return value;\n    }\n  }, {\n    key: \"toCoins\",\n    value: function toCoins(price) {\n      // floor fixes math inaccuracy after multiplication\n      return Math.floor(price * 100);\n    }\n  }]);\n\n  return HelperService;\n}();\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(HelperService, \"HelperService\", \"/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/services/HelperService/HelperService.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus.loc/frontend/src/services/HelperService/HelperService.js"],"names":["queryString","HelperService","str","args","replace","match","number","storage","key","value","getItem","startsWith","JSON","parse","item","removeItem","valueToStore","stringify","setItem","func","wait","immediate","timeout","context","arguments","later","apply","callNow","clearTimeout","setTimeout","callback","delay","isThrottled","wrapper","obj","path","def","paths","split","current","i","length","arr1","arr2","filter","arr1Item","find","arr2Item","object","props","temp","forEach","prop","undefined","includes","Array","isArray","name","body","size","hasOwnProperty","newObj","Object","keys","first","rest","lowerRest","toUpperCase","join","toLowerCase","constantStr","capitalize","search","paramsObject","options","constructor","array","reduce","acc","conditionToInclude","x","push","fromString","window","sessionStorage","string","collection","val","concat","flattenDeep","flattenCollection","file","pixelCrop","canvas","document","createElement","ctx","getContext","img","Image","width","height","promise","Promise","resolve","onload","crop","y","drawImage","toBlob","blob","error","crossOrigin","src","URL","createObjectURL","Number","isNaN","toFixed","price","Math","floor"],"mappings":"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","sourcesContent":["/* eslint-disable no-plusplus */\n/* eslint-disable prefer-rest-params */\nimport queryString from 'query-string';\n\nexport class HelperService {\n  static format(str, ...args) {\n    return str.replace(/{(\\d+)}/g, (match, number) => {\n      return typeof args[number] !== 'undefined' ? args[number] : match;\n    });\n  }\n\n  static getFromStorage(storage, key) {\n    const value = storage.getItem(key);\n    return typeof value === 'string' &&\n      (value.startsWith('{') || value.startsWith('['))\n      ? JSON.parse(value)\n      : value;\n  }\n\n  static popFromStorage(storage, key) {\n    const item = storage.getItem(key);\n    storage.removeItem(key);\n    return item;\n  }\n\n  static setInStorage(storage, key, value) {\n    const valueToStore =\n      typeof value === 'object' ? JSON.stringify(value) : value;\n    return storage.setItem(key, valueToStore);\n  }\n\n  static debounce(func, wait, immediate) {\n    let timeout;\n    return function() {\n      const context = this;\n\n      const args = arguments;\n      const later = function() {\n        timeout = null;\n        if (!immediate) func.apply(context, args);\n      };\n      const callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) func.apply(context, args);\n    };\n  }\n\n  static throttle(callback, delay) {\n    let isThrottled = false;\n\n    let args;\n\n    let context;\n\n    function wrapper() {\n      if (isThrottled) {\n        args = arguments;\n        context = this;\n        return;\n      }\n\n      isThrottled = true;\n      callback.apply(this, arguments);\n\n      setTimeout(() => {\n        isThrottled = false;\n        if (args) {\n          wrapper.apply(context, args);\n          args = null;\n          context = null;\n        }\n      }, delay);\n    }\n\n    return wrapper;\n  }\n\n  static deepFind(obj, path, def = '') {\n    const paths = path.split('.');\n    let current = obj || {};\n\n    for (let i = 0; i < paths.length; ++i) {\n      if (!current[paths[i]]) {\n        return def;\n      }\n      current = current[paths[i]];\n    }\n    return current;\n  }\n\n  // Find diff of arrays of primitive values\n  static arrDiff(arr1, arr2) {\n    return arr1.filter(\n      arr1Item => !arr2.find(arr2Item => arr2Item === arr1Item),\n    );\n  }\n\n  static pick(object, props) {\n    const temp = {};\n    props.forEach(prop => {\n      if (\n        ![undefined, null].includes(object[prop]) ||\n        (Array.isArray(object[prop]) && object[prop].length > 0)\n      ) {\n        temp[prop] = object[prop];\n      }\n    });\n    return temp;\n  }\n\n  static nameFunction(name, body) {\n    return {\n      [name](...args) {\n        return body(...args);\n      },\n    }[name];\n  }\n\n  static objectSize(obj) {\n    let size = 0;\n    for (const key in obj) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (obj.hasOwnProperty(key)) size++;\n    }\n    return size;\n  }\n\n  static removeNull(obj) {\n    const newObj = {};\n    Object.keys(obj).forEach(prop => {\n      if (obj[prop] !== null) {\n        newObj[prop] = obj[prop];\n      }\n    });\n    return newObj;\n  }\n\n  static removeEmptyValues(obj) {\n    const newObj = {};\n    Object.keys(obj).forEach(prop => {\n      if (obj[prop] !== null && obj[prop] !== '') {\n        newObj[prop] = obj[prop];\n      }\n    });\n    return newObj;\n  }\n\n  static capitalize([first = '', ...rest], lowerRest = false) {\n    return (\n      first.toUpperCase() +\n      (lowerRest ? rest.join('').toLowerCase() : rest.join(''))\n    );\n  }\n\n  static constToReadableText(constantStr = '') {\n    return HelperService.capitalize(constantStr, true)\n      .split('_')\n      .join(' ');\n  }\n\n  static parseSearch(search) {\n    return queryString.parse(search);\n  }\n\n  static objToQueryString(paramsObject, options = {}) {\n    return queryString.stringify(paramsObject, options);\n  }\n\n  static isObjectValue(value) {\n    return value && typeof value === 'object' && value.constructor === Object;\n  }\n\n  static uniqeArray(array, key) {\n    return array.reduce((acc, item) => {\n      const conditionToInclude = key\n        ? !acc.find(x => x[key] === item[key])\n        : !acc.includes(item);\n\n      if (conditionToInclude) {\n        acc.push(item);\n      }\n\n      return acc;\n    }, []);\n  }\n\n  static getFromSessionStorage(key) {\n    return JSON.parse(\n      HelperService.fromString(window.sessionStorage.getItem(key)),\n    );\n  }\n\n  static decodeHtmlFromString(string) {\n    return string.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  }\n\n  static flattenDeep(collection) {\n    return collection.reduce(\n      (acc, val) =>\n        val.options && Array.isArray(val.options)\n          ? acc.concat(HelperService.flattenDeep(val.options))\n          : acc.concat(val),\n      [],\n    );\n  }\n\n  static getGroupedSelectedValue(collection, value) {\n    const flattenCollection = HelperService.flattenDeep(collection);\n    return flattenCollection.find(item => item.value === value);\n  }\n\n  static getCroppedImg({ file, pixelCrop }) {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const name = file && file.name;\n    const img = new Image();\n\n    canvas.width = pixelCrop.width || 307; // If pixelCrop width 0, setting default crop width\n    canvas.height = pixelCrop.height || 307; // If pixelCrop height 0, setting default crop height\n\n    const promise = new Promise(resolve => {\n      img.onload = function() {\n        const crop = {\n          x: pixelCrop.x || 0,\n          y: pixelCrop.y || 0,\n          width: canvas.width,\n          height: canvas.height,\n        };\n\n        // window.URL.revokeObjectURL(this.src);\n\n        ctx.drawImage(\n          img,\n          crop.x,\n          crop.y,\n          crop.width,\n          crop.height,\n          0,\n          0,\n          crop.width,\n          crop.height,\n        );\n\n        canvas.toBlob(blob => {\n          if (blob) {\n            blob.name = name;\n            return resolve(blob);\n          }\n\n          resolve({\n            error: 'Blob is null!',\n          });\n        });\n      };\n    });\n\n    img.crossOrigin = '';\n    img.src = typeof file === 'string' ? file : URL.createObjectURL(file);\n\n    return promise;\n  }\n\n  static formatCurrency(value) {\n    // todo\n    return Number.isNaN(Number(value)) ? value : Number(value).toFixed(2);\n  }\n\n  static identity(value) {\n    return value;\n  }\n\n  static toCoins(price) {\n    // floor fixes math inaccuracy after multiplication\n    return Math.floor(price * 100);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}