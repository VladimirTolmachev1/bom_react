{"ast":null,"code":"import _classCallCheck from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"/home/vladimir/workspace/bestonlinemenus-front.loc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _dec,\n    _dec2,\n    _class,\n    _class2,\n    _jsxFileName = \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { HelperService } from '/services/';\nimport { reduxForm, formValueSelector } from 'redux-form';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport './SetRestaurantHoursModal.scss';\nimport { setRestaurantHoursModalLoadingSelector, toggleSetRestaurantHoursModal, clearModalData, setRestaurantHoursModalOpenSelector, setRestaurantHoursModalInitialValuesSelector, setRestaurantHoursModalIdSelector, daysOptionsSelector, copyHoursFromPreviousTab, setSameDay } from './modules';\nimport { autobind } from 'core-decorators';\nimport { AppPreloaderSmall, AppCleanHOC } from '/components/';\nimport { updateRestaurant, getRestaurantById, abortPageRequests } from '/scenes/Restaurants/modules/restaurants.modules';\nimport { TabContent } from './components';\nvar formFieldsSelector = formValueSelector('Restaurant');\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: setRestaurantHoursModalLoadingSelector(state),\n    open: setRestaurantHoursModalOpenSelector(state),\n    initialValues: setRestaurantHoursModalInitialValuesSelector(state),\n    id: setRestaurantHoursModalIdSelector(state),\n    hours: formFieldsSelector(state, 'hours'),\n    daysOptions: daysOptionsSelector()\n  };\n};\n\nvar mapDispatchToProps = {\n  toggleSetRestaurantHoursModal: toggleSetRestaurantHoursModal,\n  clearModalData: clearModalData,\n  updateRestaurant: updateRestaurant,\n  getRestaurantById: getRestaurantById,\n  abortPageRequests: abortPageRequests,\n  setSameDay: setSameDay,\n  copyHoursFromPreviousTab: copyHoursFromPreviousTab\n};\nvar SetRestaurantHoursModal = (_dec = connect(mapStateToProps, mapDispatchToProps), _dec2 = reduxForm({\n  form: 'Restaurant',\n  enableReinitialize: true\n}), _dec(_class = _dec2(_class = AppCleanHOC(_class = (_class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SetRestaurantHoursModal, _Component);\n\n  function SetRestaurantHoursModal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SetRestaurantHoursModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SetRestaurantHoursModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      activeTab: 0\n    };\n    return _this;\n  }\n\n  _createClass(SetRestaurantHoursModal, [{\n    key: \"onEntered\",\n    value: function onEntered() {\n      var _this$props = this.props,\n          id = _this$props.id,\n          getRestaurantById = _this$props.getRestaurantById;\n      getRestaurantById({\n        id: id\n      });\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      var _this$props2 = this.props,\n          toggleSetRestaurantHoursModal = _this$props2.toggleSetRestaurantHoursModal,\n          reset = _this$props2.reset,\n          clearModalData = _this$props2.clearModalData;\n      toggleSetRestaurantHoursModal({\n        open: false\n      });\n      reset();\n      clearModalData();\n    }\n  }, {\n    key: \"onSaveClick\",\n    value: function onSaveClick() {\n      var _this$props3 = this.props,\n          hours = _this$props3.hours,\n          updateRestaurant = _this$props3.updateRestaurant,\n          id = _this$props3.id;\n      updateRestaurant({\n        body: {\n          hours: hours,\n          id: id\n        }\n      });\n    }\n  }, {\n    key: \"onChangeTab\",\n    value: function onChangeTab(event, activeTab) {\n      this.setState({\n        activeTab: activeTab\n      });\n    }\n  }, {\n    key: \"renderDialogActions\",\n    value: function renderDialogActions() {\n      var _this$props4 = this.props,\n          loading = _this$props4.loading,\n          invalid = _this$props4.invalid;\n      return React.createElement(\"div\", {\n        className: 'set-restaurant-modal__actions',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.onClose,\n        variant: \"contained\",\n        disabled: loading,\n        className: 'set-restaurant-modal__actions-cancel',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        onClick: this.onSaveClick,\n        variant: \"contained\",\n        color: 'primary',\n        disabled: loading || invalid,\n        className: 'set-restaurant-modal__actions-save',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Save and update all\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          loading = _this$props5.loading,\n          open = _this$props5.open;\n      var activeTab = this.state.activeTab;\n      var tabProps = HelperService.pick(this.props, ['hours', 'setSameDay', 'daysOptions', 'copyHoursFromPreviousTab']);\n      return React.createElement(Dialog, {\n        open: open,\n        onEntered: this.onEntered,\n        onClose: this.onClose,\n        fullWidth: true,\n        maxWidth: 'md',\n        className: 'restaurant-modal',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, loading && React.createElement(AppPreloaderSmall, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Working schedule\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        value: activeTab,\n        centered: true,\n        indicatorColor: 'primary',\n        className: 'set-restaurant-modal-hours__tabs',\n        onChange: this.onChangeTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        label: \"Working hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Away hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Delivery hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Pickup hours\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })), activeTab === 0 && React.createElement(TabContent, Object.assign({\n        hoursGroup: 'working'\n      }, tabProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), activeTab === 1 && React.createElement(TabContent, Object.assign({\n        hoursGroup: 'away'\n      }, tabProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), activeTab === 2 && React.createElement(TabContent, Object.assign({\n        hoursGroup: 'delivery'\n      }, tabProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })), activeTab === 3 && React.createElement(TabContent, Object.assign({\n        hoursGroup: 'pickup'\n      }, tabProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, this.renderDialogActions()));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return SetRestaurantHoursModal;\n}(Component), (_applyDecoratedDescriptor(_class2.prototype, \"onEntered\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"onEntered\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onClose\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClose\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onSaveClick\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"onSaveClick\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onChangeTab\", [autobind], Object.getOwnPropertyDescriptor(_class2.prototype, \"onChangeTab\"), _class2.prototype)), _class2)) || _class) || _class) || _class);\nexport { SetRestaurantHoursModal as default };\nSetRestaurantHoursModal.propTypes = {\n  loading: PropTypes.bool,\n  hours: PropTypes.any,\n  initialValues: PropTypes.object\n};\nSetRestaurantHoursModal.defaultProps = {};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(formFieldsSelector, \"formFieldsSelector\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\");\n  reactHotLoader.register(SetRestaurantHoursModal, \"SetRestaurantHoursModal\", \"/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js\");\n  leaveModule(module);\n})();\n\n;","map":{"version":3,"sources":["/home/vladimir/workspace/bestonlinemenus-front.loc/src/scenes/SetRestaurantHoursModal/SetRestaurantHoursModal.js"],"names":["React","Component","PropTypes","connect","HelperService","reduxForm","formValueSelector","Dialog","DialogActions","DialogContent","DialogTitle","Divider","Button","Tabs","Tab","setRestaurantHoursModalLoadingSelector","toggleSetRestaurantHoursModal","clearModalData","setRestaurantHoursModalOpenSelector","setRestaurantHoursModalInitialValuesSelector","setRestaurantHoursModalIdSelector","daysOptionsSelector","copyHoursFromPreviousTab","setSameDay","autobind","AppPreloaderSmall","AppCleanHOC","updateRestaurant","getRestaurantById","abortPageRequests","TabContent","formFieldsSelector","mapStateToProps","state","loading","open","initialValues","id","hours","daysOptions","mapDispatchToProps","SetRestaurantHoursModal","form","enableReinitialize","activeTab","props","reset","body","event","setState","invalid","onClose","onSaveClick","tabProps","pick","onEntered","onChangeTab","renderDialogActions","propTypes","bool","any","object","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { HelperService } from '/services/';\n\nimport { reduxForm, formValueSelector } from 'redux-form';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport './SetRestaurantHoursModal.scss';\n\nimport {\n    setRestaurantHoursModalLoadingSelector,\n    toggleSetRestaurantHoursModal,\n    clearModalData,\n    setRestaurantHoursModalOpenSelector,\n    setRestaurantHoursModalInitialValuesSelector,\n    setRestaurantHoursModalIdSelector,\n    daysOptionsSelector,\n    copyHoursFromPreviousTab,\n    setSameDay\n} from './modules';\nimport { autobind } from 'core-decorators';\n\nimport {\n    AppPreloaderSmall,\n    AppCleanHOC\n} from '/components/';\n\nimport {\n    updateRestaurant,\n    getRestaurantById,\n    abortPageRequests\n} from '/scenes/Restaurants/modules/restaurants.modules';\n\nimport { TabContent } from './components';\n\nconst formFieldsSelector = formValueSelector('Restaurant');\n\nconst mapStateToProps = state => ({\n    loading: setRestaurantHoursModalLoadingSelector(state),\n    open: setRestaurantHoursModalOpenSelector(state),\n    initialValues: setRestaurantHoursModalInitialValuesSelector(state),\n    id: setRestaurantHoursModalIdSelector(state),\n    hours: formFieldsSelector(state, 'hours'),\n    daysOptions: daysOptionsSelector()\n});\n\nconst mapDispatchToProps = {\n    toggleSetRestaurantHoursModal,\n    clearModalData,\n    updateRestaurant,\n    getRestaurantById,\n    abortPageRequests,\n    setSameDay,\n    copyHoursFromPreviousTab\n};\n\nexport default @connect(mapStateToProps, mapDispatchToProps)\n\n@reduxForm({\n    form: 'Restaurant',\n    enableReinitialize: true\n})\n@AppCleanHOC\nclass SetRestaurantHoursModal extends Component {\n\n    state = {\n        activeTab: 0\n    };\n\n    @autobind\n    onEntered() {\n        const {id, getRestaurantById} = this.props;\n        getRestaurantById({id});\n    }\n\n    @autobind\n    onClose() {\n        const {toggleSetRestaurantHoursModal, reset, clearModalData} = this.props;\n        toggleSetRestaurantHoursModal({open: false});\n        reset();\n        clearModalData();\n    }\n\n    @autobind\n    onSaveClick() {\n        const {hours, updateRestaurant, id} = this.props;\n        updateRestaurant({body: {hours, id}})\n    }\n\n    @autobind\n    onChangeTab(event, activeTab) {\n        this.setState({activeTab});\n    }\n\n    renderDialogActions() {\n        const {loading, invalid} = this.props;\n\n        return (\n            <div className={ 'set-restaurant-modal__actions' }>\n                <Button\n                    onClick={ this.onClose }\n                    variant=\"contained\"\n                    disabled={ loading }\n                    className={ 'set-restaurant-modal__actions-cancel' }>\n                    Cancel\n                </Button>\n                <Button\n                    onClick={ this.onSaveClick }\n                    variant=\"contained\"\n                    color={ 'primary' }\n                    disabled={ loading || invalid }\n                    className={ 'set-restaurant-modal__actions-save' }>\n                    Save and update all\n                </Button>\n            </div>\n        );\n    }\n\n    render() {\n        const {loading, open} = this.props;\n        const {activeTab} = this.state;\n\n        const tabProps = HelperService.pick(this.props, [\n            'hours',\n            'setSameDay',\n            'daysOptions',\n            'copyHoursFromPreviousTab'\n        ]);\n\n        return (\n            <Dialog\n                open={ open }\n                onEntered={ this.onEntered }\n                onClose={ this.onClose }\n                fullWidth={ true }\n                maxWidth={ 'md' }\n                className={ 'restaurant-modal' }\n            >\n                { loading && <AppPreloaderSmall/> }\n                <DialogTitle>Working schedule</DialogTitle>\n                <DialogContent>\n                    <Tabs\n                        value={ activeTab }\n                        centered\n                        indicatorColor={ 'primary' }\n                        className={ 'set-restaurant-modal-hours__tabs' }\n                        onChange={ this.onChangeTab }>\n                        <Tab label=\"Working hours\"/>\n                        <Tab label=\"Away hours\"/>\n                        <Tab label=\"Delivery hours\"/>\n                        <Tab label=\"Pickup hours\"/>\n                    </Tabs>\n\n                    { activeTab === 0 && (<TabContent hoursGroup={ 'working' } { ...tabProps }/>) }\n                    { activeTab === 1 && (<TabContent hoursGroup={ 'away' } { ...tabProps }/>) }\n                    { activeTab === 2 && (<TabContent hoursGroup={ 'delivery' } { ...tabProps }/>) }\n                    { activeTab === 3 && (<TabContent hoursGroup={ 'pickup' } { ...tabProps }/>) }\n\n                </DialogContent>\n                <Divider/>\n                <DialogActions>\n                    { this.renderDialogActions() }\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nSetRestaurantHoursModal.propTypes = {\n    loading: PropTypes.bool,\n    hours: PropTypes.any,\n    initialValues: PropTypes.object\n};\nSetRestaurantHoursModal.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}